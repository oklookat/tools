import{S as Pr,i as Br,s as Dr,k as Y,a as ie,e as tn,K as Wr,l as Z,h as D,c as ce,n as Q,B as G,b as X,f as K,t as ne,d as Je,o as Vr,D as $r,v as Pe,w as Be,x as De,y as We,q as oe,m as ee,r as se,p as nn,A as Ln,u as Un,C as Fr,g as et,N as jr}from"../../../chunks/index-b86fdf0a.js";import{A as qr}from"../../../chunks/about_overlay-a9401b6a.js";import{B as ct}from"../../../chunks/button-13b94900.js";import"../../../chunks/index-8c5aca60.js";const Gr=e=>t=>{const n=e(t);return t.add(n),n},zr=e=>(t,n)=>(e.set(t,n),n),rn=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,Pn=536870912,on=Pn*2,Hr=(e,t)=>n=>{const r=t.get(n);let o=r===void 0?n.size:r<on?r+1:0;if(!n.has(o))return e(n,o);if(n.size<Pn){for(;n.has(o);)o=Math.floor(Math.random()*on);return e(n,o)}if(n.size>rn)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(o);)o=Math.floor(Math.random()*rn);return e(n,o)},Bn=new WeakMap,Xr=zr(Bn),Pt=Hr(Xr,Bn),Yr=Gr(Pt),Zr=e=>typeof e.start=="function",sn=new WeakMap,Kr=e=>({...e,connect:({call:t})=>async()=>{const{port1:n,port2:r}=new MessageChannel,o=await t("connect",{port:n},[n]);return sn.set(r,o),r},disconnect:({call:t})=>async n=>{const r=sn.get(n);if(r===void 0)throw new Error("The given port is not connected.");await t("disconnect",{portId:r})},isSupported:({call:t})=>()=>t("isSupported")}),At=new WeakMap,Qr=e=>{if(At.has(e))return At.get(e);const t=new Map;return At.set(e,t),t},Dn=e=>{const t=Kr(e);return n=>{const r=Qr(n);n.addEventListener("message",({data:c})=>{const{id:a}=c;if(a!==null&&r.has(a)){const{reject:u,resolve:d}=r.get(a);r.delete(a),c.error===void 0?d(c.result):u(new Error(c.error.message))}}),Zr(n)&&n.start();const o=(c,a=null,u=[])=>new Promise((d,l)=>{const h=Pt(r);r.set(h,{reject:l,resolve:d}),a===null?n.postMessage({id:h,method:c},u):n.postMessage({id:h,method:c,params:a},u)}),s=(c,a,u=[])=>{n.postMessage({id:null,method:c,params:a},u)};let i={};for(const[c,a]of Object.entries(t))i={...i,[c]:a({call:o,notify:s})};return{...i}}},an=new Set,Jr=Dn({encode:({call:e})=>async(t,n)=>{const r=await e("encode",{encoderId:t,timeslice:n});return an.delete(t),r},instantiate:({call:e})=>async(t,n)=>{const r=Yr(an),o=await e("instantiate",{encoderId:r,mimeType:t,sampleRate:n});return{encoderId:r,port:o}},register:({call:e})=>t=>e("register",{port:t},[t])}),eo=e=>{const t=new Worker(e);return Jr(t)},to=`(()=>{var e={775:function(e,t,r){!function(e,t,r,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(t),s=o(r),i=o(n),c=function(e,t){return void 0===t?e:t.reduce((function(e,t){if("capitalize"===t){var r=e.charAt(0).toUpperCase(),n=e.slice(1);return"".concat(r).concat(n)}return"dashify"===t?s.default(e):"prependIndefiniteArticle"===t?"".concat(i.default(e)," ").concat(e):e}),e)},u=function(e){var t=e.name+e.modifiers.map((function(e){return"\\\\.".concat(e,"\\\\(\\\\)")})).join("");return new RegExp("\\\\$\\\\{".concat(t,"}"),"g")},l=function(e,t){for(var r=/\\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g,n=[],o=r.exec(e);null!==o;){var s={modifiers:[],name:o[1]};if(void 0!==o[3])for(var i=/\\.[^(]+\\(\\)/g,l=i.exec(o[2]);null!==l;)s.modifiers.push(l[0].slice(1,-2)),l=i.exec(o[2]);n.push(s),o=r.exec(e)}var d=n.reduce((function(e,r){return e.map((function(e){return"string"==typeof e?e.split(u(r)).reduce((function(e,n,o){return 0===o?[n]:r.name in t?[].concat(a.default(e),[c(t[r.name],r.modifiers),n]):[].concat(a.default(e),[function(e){return c(e[r.name],r.modifiers)},n])}),[]):[e]})).reduce((function(e,t){return[].concat(a.default(e),a.default(t))}),[])}),[e]);return function(e){return d.reduce((function(t,r){return[].concat(a.default(t),"string"==typeof r?[r]:[r(e)])}),[]).join("")}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0===e.code?void 0:l(e.code,t),n=void 0===e.message?void 0:l(e.message,t);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,a=void 0===o&&(t instanceof Error||void 0!==t.code&&"Exception"===t.code.slice(-9))?{cause:t,missingParameters:{}}:{cause:o,missingParameters:t},s=a.cause,i=a.missingParameters,c=void 0===n?new Error:new Error(n(i));return null!==s&&(c.cause=s),void 0!==r&&(c.code=r(i)),void 0!==e.status&&(c.status=e.status),c}return o};e.compile=d,Object.defineProperty(e,"__esModule",{value:!0})}(t,r(106),r(881),r(507))},881:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e)throw new TypeError("expected a string");return e.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\\W/g,(e=>/[\xC0-\u017E]/.test(e)?e:"-")).replace(/^-+|-+$/g,"").replace(/-{2,}/g,(e=>t&&t.condense?"-":e)).toLowerCase()}},107:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,a=2*o,s=function(e,t){return function(r){var s=t.get(r),i=void 0===s?r.size:s<a?s+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*a);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,c=r(i),u=s(c,i),l=t(u);e.addUniqueNumber=l,e.generateUniqueNumber=u,Object.defineProperty(e,"__esModule",{value:!0})}(t)},507:e=>{var t=function(e){var t,r,n=/\\w+/.exec(e);if(!n)return"an";var o=(r=n[0]).toLowerCase(),a=["honest","hour","hono"];for(t in a)if(0==o.indexOf(a[t]))return"an";if(1==o.length)return"aedhilmnorsx".indexOf(o)>=0?"an":"a";if(r.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var s=[/^e[uw]/,/^onc?e\\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(t=0;t<s.length;t++)if(o.match(s[t]))return"a";return r.match(/^U[NK][AIEO]/)?"a":r==r.toUpperCase()?"aedhilmnorsx".indexOf(o[0])>=0?"an":"a":"aeiou".indexOf(o[0])>=0||o.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};void 0!==e.exports?e.exports=t:window.indefiniteArticle=t},768:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},907:(e,t,r)=>{var n=r(768);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},642:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},344:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},106:(e,t,r)=>{var n=r(907),o=r(642),a=r(906),s=r(344);e.exports=function(e){return n(e)||o(e)||a(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},906:(e,t,r)=>{var n=r(768);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(()=>{"use strict";var e=r(775);const t=-32603,n=-32602,o=-32601,a=(0,e.compile)({message:'The requested method called "\${method}" is not supported.',status:o}),s=(0,e.compile)({message:'The handler of the method called "\${method}" returned no required result.',status:t}),i=(0,e.compile)({message:'The handler of the method called "\${method}" returned an unexpected result.',status:t}),c=(0,e.compile)({message:'The specified parameter called "portId" with the given value "\${portId}" does not identify a port connected to this worker.',status:n}),u=(e,t)=>async r=>{let{data:{id:n,method:o,params:c}}=r;const u=t[o];try{if(void 0===u)throw a({method:o});const t=void 0===c?u():u(c);if(void 0===t)throw s({method:o});const r=t instanceof Promise?await t:t;if(null===n){if(void 0!==r.result)throw i({method:o})}else{if(void 0===r.result)throw i({method:o});const{result:t,transferables:a=[]}=r;e.postMessage({id:n,result:t},a)}}catch(t){const{message:r,status:o=-32603}=t;e.postMessage({error:{code:o,message:r},id:n})}};var l=r(107);const d=new Map,f=(e,t,r)=>({...t,connect:r=>{let{port:n}=r;n.start();const o=e(n,t),a=(0,l.generateUniqueNumber)(d);return d.set(a,(()=>{o(),n.close(),d.delete(a)})),{result:a}},disconnect:e=>{let{portId:t}=e;const r=d.get(t);if(void 0===r)throw c({portId:t.toString()});return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=r();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),p=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;const n=f(p,t,r),o=u(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},m=e=>{e.onmessage=null,e.close()},h=new WeakMap,g=new WeakMap,v=(e=>{const t=(r=e,{...r,connect:e=>{let{call:t}=e;return async()=>{const{port1:e,port2:r}=new MessageChannel,n=await t("connect",{port:e},[e]);return h.set(r,n),r}},disconnect:e=>{let{call:t}=e;return async e=>{const r=h.get(e);if(void 0===r)throw new Error("The given port is not connected.");await t("disconnect",{portId:r})}},isSupported:e=>{let{call:t}=e;return()=>t("isSupported")}});var r;return e=>{const r=(e=>{if(g.has(e))return g.get(e);const t=new Map;return g.set(e,t),t})(e);e.addEventListener("message",(e=>{let{data:t}=e;const{id:n}=t;if(null!==n&&r.has(n)){const{reject:e,resolve:o}=r.get(n);r.delete(n),void 0===t.error?o(t.result):e(new Error(t.error.message))}})),(e=>"function"==typeof e.start)(e)&&e.start();const n=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(((a,s)=>{const i=(0,l.generateUniqueNumber)(r);r.set(i,{reject:s,resolve:a}),null===n?e.postMessage({id:i,method:t},o):e.postMessage({id:i,method:t,params:n},o)}))},o=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.postMessage({id:null,method:t,params:r},n)};let a={};for(const[e,r]of Object.entries(t))a={...a,[e]:r({call:n,notify:o})};return{...a}}})({characterize:e=>{let{call:t}=e;return()=>t("characterize")},encode:e=>{let{call:t}=e;return(e,r)=>t("encode",{recordingId:e,timeslice:r})},record:e=>{let{call:t}=e;return async(e,r,n)=>{await t("record",{recordingId:e,sampleRate:r,typedArrays:n},n.map((e=>{let{buffer:t}=e;return t})))}}}),w=async(e,t)=>{const r=v(t),n=await r.characterize(),o=n.toString();if(e.has(o))throw new Error("There is already an encoder stored which handles exactly the same mime types.");return e.set(o,[n,r]),n},x=new Map,y=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error("There was no instance of an encoder stored with the given id.");return r})(x),M=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(x,y),b=new Map,E=((e,t)=>r=>{const[n,o,a,s]=t(r);return a?new Promise((t=>{o.onmessage=a=>{let{data:i}=a;0===i.length?(e(o),t(n.encode(r,null))):n.record(r,s,i)}})):n.encode(r,null)})(m,M),A=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error("There is no encoder registered which could handle the given mimeType.")})(b),_=((e,t,r)=>(n,o,a)=>{if(t.has(n))throw new Error('There is already an encoder registered with an id called "'.concat(n,'".'));const s=r(o),{port1:i,port2:c}=new MessageChannel,u=[s,i,!0,a];return t.set(n,u),i.onmessage=t=>{let{data:r}=t;0===r.length?(e(i),u[2]=!1):s.record(n,a,r)},c})(m,x,A),I=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(y);p(self,{encode:async e=>{let{encoderId:t,timeslice:r}=e;const n=null===r?await E(t):await I(t,r);return{result:n,transferables:n}},instantiate:e=>{let{encoderId:t,mimeType:r,sampleRate:n}=e;const o=_(t,r,n);return{result:o,transferables:[o]}},register:async e=>{let{port:t}=e;return{result:await w(b,t)}}})})()})();`,no=new Blob([to],{type:"application/javascript; charset=utf-8"}),Wn=URL.createObjectURL(no),Bt=eo(Wn),tt=Bt.encode,Vn=Bt.instantiate,ro=Bt.register;URL.revokeObjectURL(Wn);const oo=e=>(t,n)=>{if(e===null){const{data:r,...o}=n,s=new Event(t,o);return s.data=r,s}return new e(t,n)},so=(e,t)=>(n,r,o)=>{const s=[];let i=r,c=0;for(;c<n.byteLength;)if(i===null){const a=t(n,c);if(a===null)break;const{length:u,type:d}=a;i=d,c+=u}else{const a=e(n,c,i,o);if(a===null)break;const{content:u,length:d}=a;i=null,c+=d,u!==null&&s.push(u)}return{contents:s,currentElementType:i,offset:c}},ao=(e,t)=>class{constructor(r=null){this._listeners=new WeakMap,this._nativeEventTarget=r===null?e():r}addEventListener(r,o,s){if(o!==null){let i=this._listeners.get(o);i===void 0&&(i=t(this,o),typeof o=="function"&&this._listeners.set(o,i)),this._nativeEventTarget.addEventListener(r,i,s)}}dispatchEvent(r){return this._nativeEventTarget.dispatchEvent(r)}removeEventListener(r,o,s){const i=o===null?void 0:this._listeners.get(o);this._nativeEventTarget.removeEventListener(r,i===void 0?null:i,s)}},io=e=>()=>{if(e===null)throw new Error("A native EventTarget could not be created.");return e.document.createElement("p")},Dt=(e="")=>{try{return new DOMException(e,"InvalidModificationError")}catch(t){return t.code=13,t.message=e,t.name="InvalidModificationError",t}},co=()=>{try{return new DOMException("","InvalidStateError")}catch(e){return e.code=11,e.name="InvalidStateError",e}},uo=(e,t,n,r,o,s,i)=>class extends s{constructor(a,u={}){const{mimeType:d}=u;if(i!==null&&(d===void 0||i.isTypeSupported!==void 0&&i.isTypeSupported(d))){const l=e(i,a,u);super(l),this._internalMediaRecorder=l}else if(d!==void 0&&o.some(l=>l.test(d)))super(),i!==null&&i.isTypeSupported!==void 0&&i.isTypeSupported("audio/webm;codecs=pcm")?this._internalMediaRecorder=r(this,i,a,d):this._internalMediaRecorder=n(this,a,d);else throw i!==null&&e(i,a,u),t();this._ondataavailable=null,this._onerror=null,this._onpause=null,this._onresume=null,this._onstart=null,this._onstop=null}get mimeType(){return this._internalMediaRecorder.mimeType}get ondataavailable(){return this._ondataavailable===null?this._ondataavailable:this._ondataavailable[0]}set ondataavailable(a){if(this._ondataavailable!==null&&this.removeEventListener("dataavailable",this._ondataavailable[1]),typeof a=="function"){const u=a.bind(this);this.addEventListener("dataavailable",u),this._ondataavailable=[a,u]}else this._ondataavailable=null}get onerror(){return this._onerror===null?this._onerror:this._onerror[0]}set onerror(a){if(this._onerror!==null&&this.removeEventListener("error",this._onerror[1]),typeof a=="function"){const u=a.bind(this);this.addEventListener("error",u),this._onerror=[a,u]}else this._onerror=null}get onpause(){return this._onpause===null?this._onpause:this._onpause[0]}set onpause(a){if(this._onpause!==null&&this.removeEventListener("pause",this._onpause[1]),typeof a=="function"){const u=a.bind(this);this.addEventListener("pause",u),this._onpause=[a,u]}else this._onpause=null}get onresume(){return this._onresume===null?this._onresume:this._onresume[0]}set onresume(a){if(this._onresume!==null&&this.removeEventListener("resume",this._onresume[1]),typeof a=="function"){const u=a.bind(this);this.addEventListener("resume",u),this._onresume=[a,u]}else this._onresume=null}get onstart(){return this._onstart===null?this._onstart:this._onstart[0]}set onstart(a){if(this._onstart!==null&&this.removeEventListener("start",this._onstart[1]),typeof a=="function"){const u=a.bind(this);this.addEventListener("start",u),this._onstart=[a,u]}else this._onstart=null}get onstop(){return this._onstop===null?this._onstop:this._onstop[0]}set onstop(a){if(this._onstop!==null&&this.removeEventListener("stop",this._onstop[1]),typeof a=="function"){const u=a.bind(this);this.addEventListener("stop",u),this._onstop=[a,u]}else this._onstop=null}get state(){return this._internalMediaRecorder.state}pause(){return this._internalMediaRecorder.pause()}resume(){return this._internalMediaRecorder.resume()}start(a){return this._internalMediaRecorder.start(a)}stop(){return this._internalMediaRecorder.stop()}static isTypeSupported(a){return i!==null&&i.isTypeSupported!==void 0&&i.isTypeSupported(a)||o.some(u=>u.test(a))}},lo=e=>e!==null&&e.BlobEvent!==void 0?e.BlobEvent:null,fo=(e,t)=>(n,r,o)=>{const s=[],i=new WeakMap,c=new WeakMap,a=new n(r,o),u=new WeakMap;let d=!0;return a.addEventListener=(l=>(h,f,p)=>{let m=f;return typeof f=="function"&&(h==="dataavailable"?(m=g=>{setTimeout(()=>{if(d&&a.state==="inactive")s.push(g.data);else{if(s.length>0){const v=g.data;Object.defineProperty(g,"data",{value:new Blob([...s,v],{type:v.type})}),s.length=0}f.call(a,g)}})},i.set(f,m)):h==="error"?(m=g=>{if(g.error===void 0)f.call(a,new ErrorEvent("error",{error:e()}));else if(g.error.name==="UnknownError"){const v=g.error.message;f.call(a,new ErrorEvent("error",{error:e(v)}))}else g instanceof ErrorEvent?f.call(a,g):f.call(a,new ErrorEvent("error",{error:g.error}))},c.set(f,m)):h==="stop"&&(m=g=>{d=!1,setTimeout(()=>f.call(a,g))},u.set(f,m))),l.call(a,h,m,p)})(a.addEventListener),a.dispatchEvent=(l=>h=>{let f;setTimeout(()=>{f=d,d=!1});const p=l.call(a,h);return setTimeout(()=>d=f),p})(a.dispatchEvent),a.removeEventListener=(l=>(h,f,p)=>{let m=f;if(typeof f=="function"){if(h==="dataavailable"){const g=i.get(f);g!==void 0&&(m=g)}else if(h==="error"){const g=c.get(f);g!==void 0&&(m=g)}else if(h==="stop"){const g=u.get(f);g!==void 0&&(m=g)}}return l.call(a,h,m,p)})(a.removeEventListener),a.start=(l=>h=>{if(o.mimeType!==void 0&&o.mimeType.startsWith("audio/")&&r.getVideoTracks().length>0)throw t();return d=h!==void 0,h===void 0?l.call(a):l.call(a,h)})(a.start),a},ho=e=>e===null||e.MediaRecorder===void 0?null:e.MediaRecorder,ut=()=>{try{return new DOMException("","NotSupportedError")}catch(e){return e.code=9,e.name="NotSupportedError",e}},po=e=>(t,n,r,o=2)=>{const s=e(t,n);if(s===null)return s;const{length:i,value:c}=s;if(r==="master")return{content:null,length:i};if(n+i+c>t.byteLength)return null;if(r==="binary"){const a=(c/Float32Array.BYTES_PER_ELEMENT-1)/o,u=Array.from({length:o},()=>new Float32Array(a));for(let d=0;d<a;d+=1){const l=d*o+1;for(let h=0;h<o;h+=1)u[h][d]=t.getFloat32(n+i+(l+h)*Float32Array.BYTES_PER_ELEMENT,!0)}return{content:u,length:i+c}}return{content:null,length:i+c}},mo=e=>(t,n)=>{const r=e(t,n);if(r===null)return r;const{length:o,value:s}=r;return s===35?{length:o,type:"binary"}:s===46||s===97||s===88713574||s===106212971||s===139690087||s===172351395||s===256095861?{length:o,type:"master"}:{length:o,type:"unknown"}},go=e=>(t,n)=>{const r=e(t,n);if(r===null)return r;const o=n+Math.floor((r-1)/8);if(o+r>t.byteLength)return null;let i=t.getUint8(o)&(1<<8-r%8)-1;for(let c=1;c<r;c+=1)i=(i<<8)+t.getUint8(o+c);return{length:r,value:i}},cn=Symbol.observable||"@@observable";function vo(e){return Symbol.observable||(typeof e=="function"&&e.prototype&&e.prototype[Symbol.observable]?(e.prototype[cn]=e.prototype[Symbol.observable],delete e.prototype[Symbol.observable]):(e[cn]=e[Symbol.observable],delete e[Symbol.observable])),e}const Ye=()=>{},un=e=>{throw e};function _o(e){var t,n,r;return e?e.next&&e.error&&e.complete?e:{complete:((t=e.complete)!=null?t:Ye).bind(e),error:((n=e.error)!=null?n:un).bind(e),next:((r=e.next)!=null?r:Ye).bind(e)}:{complete:Ye,error:un,next:Ye}}const wo=e=>(t,n,r)=>e(o=>{const s=i=>o.next(i);return t.addEventListener(n,s,r),()=>t.removeEventListener(n,s,r)}),yo=(e,t)=>{const n=()=>{},r=o=>typeof o[0]=="function";return o=>{const s=(...i)=>{const c=o(r(i)?t({next:i[0]}):t(...i));return c!==void 0?c:n};return s[Symbol.observable]=()=>({subscribe:(...i)=>({unsubscribe:s(...i)})}),e(s)}},bo=yo(vo,_o),$n=wo(bo);/*!
 * dashify <https://github.com/jonschlinkert/dashify>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Eo=(e,t)=>{if(typeof e!="string")throw new TypeError("expected a string");return e.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\W/g,n=>/[À-ž]/.test(n)?n:"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,n=>t&&t.condense?"-":n).toLowerCase()},Fn={exports:{}};(function(e){var t=function(n){var r,o,s=/\w+/.exec(n);if(s)o=s[0];else return"an";var i=o.toLowerCase(),c=["honest","hour","hono"];for(r in c)if(i.indexOf(c[r])==0)return"an";if(i.length==1)return"aedhilmnorsx".indexOf(i)>=0?"an":"a";if(o.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var a=[/^e[uw]/,/^onc?e\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(r=0;r<a.length;r++)if(i.match(a[r]))return"a";return o.match(/^U[NK][AIEO]/)?"a":o==o.toUpperCase()?"aedhilmnorsx".indexOf(i[0])>=0?"an":"a":"aeiou".indexOf(i[0])>=0||i.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};e.exports=t})(Fn);const Ao=Fn.exports,ln=(e,t)=>t===void 0?e:t.reduce((n,r)=>{if(r==="capitalize"){const o=n.charAt(0).toUpperCase(),s=n.slice(1);return`${o}${s}`}return r==="dashify"?Eo(n):r==="prependIndefiniteArticle"?`${Ao(n)} ${n}`:n},e),Co=e=>{const t=e.name+e.modifiers.map(n=>`\\.${n}\\(\\)`).join("");return new RegExp(`\\$\\{${t}}`,"g")},dn=(e,t)=>{const n=/\${([^.}]+)((\.[^(]+\(\))*)}/g,r=[];let o=n.exec(e);for(;o!==null;){const i={modifiers:[],name:o[1]};if(o[3]!==void 0){const c=/\.[^(]+\(\)/g;let a=c.exec(o[2]);for(;a!==null;)i.modifiers.push(a[0].slice(1,-2)),a=c.exec(o[2])}r.push(i),o=n.exec(e)}const s=r.reduce((i,c)=>i.map(a=>typeof a=="string"?a.split(Co(c)).reduce((u,d,l)=>l===0?[d]:c.name in t?[...u,ln(t[c.name],c.modifiers),d]:[...u,h=>ln(h[c.name],c.modifiers),d],[]):[a]).reduce((a,u)=>[...a,...u],[]),[e]);return i=>s.reduce((c,a)=>typeof a=="string"?[...c,a]:[...c,a(i)],[]).join("")},lt=(e,t={})=>{const n=e.code===void 0?void 0:dn(e.code,t),r=e.message===void 0?void 0:dn(e.message,t);function o(s={},i){const c=i===void 0&&(s instanceof Error||s.code!==void 0&&s.code.slice(-9)==="Exception"),{cause:a,missingParameters:u}=c?{cause:s,missingParameters:{}}:{cause:i,missingParameters:s},d=r===void 0?new Error:new Error(r(u));return a!==null&&(d.cause=a),n!==void 0&&(d.code=n(u)),e.status!==void 0&&(d.status=e.status),d}return o},dt={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601};lt({message:'The requested method called "${method}" is not supported.',status:dt.METHOD_NOT_FOUND});lt({message:'The handler of the method called "${method}" returned no required result.',status:dt.INTERNAL_ERROR});lt({message:'The handler of the method called "${method}" returned an unexpected result.',status:dt.INTERNAL_ERROR});lt({message:'The specified parameter called "portId" with the given value "${portId}" does not identify a port connected to this worker.',status:dt.INVALID_PARAMS});const Mo=(e,t,n)=>async r=>{const o=new e([n],{type:"application/javascript; charset=utf-8"}),s=t.createObjectURL(o);try{await r(s)}finally{t.revokeObjectURL(s)}},To=e=>({data:t})=>{const{id:n}=t;if(n!==null){const r=e.get(n);if(r!==void 0){const{reject:o,resolve:s}=r;e.delete(n),t.error===void 0?s(t.result):o(new Error(t.error.message))}}},No=e=>(t,n)=>(r,o=[])=>new Promise((s,i)=>{const c=e(t);t.set(c,{reject:i,resolve:s}),n.postMessage({id:c,...r},o)}),So=(e,t,n,r)=>(o,s,i={})=>{const c=new o(s,"recorder-audio-worklet-processor",{...i,channelCountMode:"explicit",numberOfInputs:1,numberOfOutputs:0}),a=new Map,u=t(a,c.port),d=n(c.port,"message")(e(a));c.port.start();let l="inactive";return Object.defineProperties(c,{pause:{get(){return async()=>(r(["recording"],l),l="paused",u({method:"pause"}))}},port:{get(){throw new Error("The port of a RecorderAudioWorkletNode can't be accessed.")}},record:{get(){return async h=>(r(["inactive"],l),l="recording",u({method:"record",params:{encoderPort:h}},[h]))}},resume:{get(){return async()=>(r(["paused"],l),l="recording",u({method:"resume"}))}},stop:{get(){return async()=>{r(["paused","recording"],l),l="stopped";try{await u({method:"stop"})}finally{d()}}}}}),c},Io=(e,t)=>{if(!e.includes(t))throw new Error(`Expected the state to be ${e.map(n=>`"${n}"`).join(" or ")} but it was "${t}".`)},Oo='(()=>{"use strict";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._state="inactive",this.port.onmessage=e=>{let{data:t}=e;"pause"===t.method?"active"===this._state||"recording"===this._state?(this._state="paused",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"record"===t.method?"inactive"===this._state?(this._encoderPort=t.params.encoderPort,this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"resume"===t.method?"paused"===this._state?(this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"stop"===t.method?"active"!==this._state&&"paused"!==this._state&&"recording"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(t.id):(this._stop(this._encoderPort),this._sendAcknowledgement(t.id)):"number"==typeof t.id&&this.port.postMessage({error:{code:-32601,message:"The requested method is not supported."},id:t.id})}}process(e){let[t]=e;if("inactive"===this._state||"paused"===this._state)return!0;if("active"===this._state){if(void 0===t)throw new Error("No channelData was received for the first input.");if(0===t.length)return!0;this._state="recording"}if("recording"===this._state&&null!==this._encoderPort){if(void 0===t)throw new Error("No channelData was received for the first input.");if(0!==t.length)return this._encoderPort.postMessage(t,t.map((e=>{let{buffer:t}=e;return t}))),!0;this._stop(this._encoderPort)}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:"The internal state does not allow to process the given message."},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state="stopped"}}e.parameterDescriptors=[],registerProcessor("recorder-audio-worklet-processor",e)})();',ko=Mo(Blob,URL,Oo),Ro=So(To,No(Pt),$n,Io),fn=(e,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}),hn=(e,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:e}),Tt=(e,t)=>({startTime:t,type:"setValue",value:e}),jn=(e,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:e}),qn=(e,t,{startTime:n,target:r,timeConstant:o})=>r+(t-r)*Math.exp((n-e)/o),Se=e=>e.type==="exponentialRampToValue",nt=e=>e.type==="linearRampToValue",ge=e=>Se(e)||nt(e),Wt=e=>e.type==="setValue",he=e=>e.type==="setValueCurve",rt=(e,t,n,r)=>{const o=e[t];return o===void 0?r:ge(o)||Wt(o)?o.value:he(o)?o.values[o.values.length-1]:qn(n,rt(e,t-1,o.startTime,r),o)},pn=(e,t,n,r,o)=>n===void 0?[r.insertTime,o]:ge(n)?[n.endTime,n.value]:Wt(n)?[n.startTime,n.value]:he(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,rt(e,t-1,n.startTime,o)],Nt=e=>e.type==="cancelAndHold",St=e=>e.type==="cancelScheduledValues",me=e=>Nt(e)||St(e)?e.cancelTime:Se(e)||nt(e)?e.endTime:e.startTime,mn=(e,t,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((e-t)/(r-t)):0,gn=(e,t,n,{endTime:r,value:o})=>n+(e-t)/(r-t)*(o-n),xo=(e,t)=>{const n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]},Lo=(e,{duration:t,startTime:n,values:r})=>{const o=(e-n)/t*(r.length-1);return xo(r,o)},Ze=e=>e.type==="setTarget";class Uo{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const n=me(t);if(Nt(t)||St(t)){const r=this._automationEvents.findIndex(s=>St(t)&&he(s)?s.startTime+s.duration>=n:me(s)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Nt(t)){const s=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&ge(o)){if(Ze(s))throw new Error("The internal list is malformed.");const i=he(s)?s.startTime+s.duration:me(s),c=he(s)?s.values[s.values.length-1]:s.value,a=Se(o)?mn(n,i,c,o):gn(n,i,c,o),u=Se(o)?fn(a,n,this._currenTime):hn(a,n,this._currenTime);this._automationEvents.push(u)}s!==void 0&&Ze(s)&&this._automationEvents.push(Tt(this.getValue(n),n)),s!==void 0&&he(s)&&s.startTime+s.duration>n&&(this._automationEvents[this._automationEvents.length-1]=jn(new Float32Array([6,7]),s.startTime,n-s.startTime))}}else{const r=this._automationEvents.findIndex(i=>me(i)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&he(o)&&me(o)+o.duration>n)return!1;const s=Se(t)?fn(t.value,t.endTime,this._currenTime):nt(t)?hn(t.value,n,this._currenTime):t;if(r===-1)this._automationEvents.push(s);else{if(he(t)&&n+t.duration>me(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,s)}}return!0}flush(t){const n=this._automationEvents.findIndex(r=>me(r)>t);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];Ze(o)&&r.unshift(Tt(rt(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(i=>me(i)>t),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[o];if(s!==void 0&&Ze(s)&&(r===void 0||!ge(r)||r.insertTime>t))return qn(t,rt(this._automationEvents,o-1,s.startTime,this._defaultValue),s);if(s!==void 0&&Wt(s)&&(r===void 0||!ge(r)))return s.value;if(s!==void 0&&he(s)&&(r===void 0||!ge(r)||s.startTime+s.duration>t))return t<s.startTime+s.duration?Lo(t,s):s.values[s.values.length-1];if(s!==void 0&&ge(s)&&(r===void 0||!ge(r)))return s.value;if(r!==void 0&&Se(r)){const[i,c]=pn(this._automationEvents,o,s,r,this._defaultValue);return mn(t,i,c,r)}if(r!==void 0&&nt(r)){const[i,c]=pn(this._automationEvents,o,s,r,this._defaultValue);return gn(t,i,c,r)}return this._defaultValue}}const Po=e=>({cancelTime:e,type:"cancelAndHold"}),Bo=e=>({cancelTime:e,type:"cancelScheduledValues"}),Do=(e,t)=>({endTime:t,type:"exponentialRampToValue",value:e}),Wo=(e,t)=>({endTime:t,type:"linearRampToValue",value:e}),Vo=(e,t,n)=>({startTime:t,target:e,timeConstant:n,type:"setTarget"}),$o=()=>new DOMException("","AbortError"),Fo=e=>(t,n,[r,o,s],i)=>{e(t[o],[n,r,s],c=>c[0]===n&&c[1]===r,i)},jo=e=>(t,n,r)=>{const o=[];for(let s=0;s<r.numberOfInputs;s+=1)o.push(new Set);e.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},qo=e=>(t,n)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Ie=new WeakSet,Gn=new WeakMap,zn=new WeakMap,Hn=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,Zn=new WeakMap,It=new WeakMap,Ot=new WeakMap,kt=new WeakMap,Kn={construct(){return Kn}},Go=e=>{try{const t=new Proxy(e,Kn);new t}catch{return!1}return!0},vn=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,_n=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),o=r.match(vn);for(;o!==null;){const s=o[1].slice(1,-1),i=o[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,t).toString());n.push(i),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(vn)}return[n.join(";"),r]},wn=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},yn=e=>{if(!Go(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},zo=(e,t,n,r,o,s,i,c,a,u,d,l,h)=>{let f=0;return(p,m,g={credentials:"omit"})=>{const v=d.get(p);if(v!==void 0&&v.has(m))return Promise.resolve();const y=u.get(p);if(y!==void 0){const _=y.get(m);if(_!==void 0)return _}const b=s(p),M=b.audioWorklet===void 0?o(m).then(([_,A])=>{const[w,E]=_n(_,A),C=`${w};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}
})})(window,'_AWGS')`;return n(C)}).then(()=>{const _=h._AWGS.pop();if(_===void 0)throw new SyntaxError;r(b.currentTime,b.sampleRate,()=>_(class{},void 0,(A,w)=>{if(A.trim()==="")throw t();const E=Ot.get(b);if(E!==void 0){if(E.has(A))throw t();yn(w),wn(w.parameterDescriptors),E.set(A,w)}else yn(w),wn(w.parameterDescriptors),Ot.set(b,new Map([[A,w]]))},b.sampleRate,void 0,void 0))}):Promise.all([o(m),Promise.resolve(e(l,l))]).then(([[_,A],w])=>{const E=f+1;f=E;const[C,N]=_n(_,A),P=`${C};((AudioWorkletProcessor,registerProcessor)=>{${N}
})(${w?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${w?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${w?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`,L=new Blob([P],{type:"application/javascript; charset=utf-8"}),R=URL.createObjectURL(L);return b.audioWorklet.addModule(R,g).then(()=>{if(c(b))return b;const B=i(b);return B.audioWorklet.addModule(R,g).then(()=>B)}).then(B=>{if(a===null)throw new SyntaxError;try{new a(B,`__sac${E}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(R))});return y===void 0?u.set(p,new Map([[m,M]])):y.set(m,M),M.then(()=>{const _=d.get(p);_===void 0?d.set(p,new Set([m])):_.add(m)}).finally(()=>{const _=u.get(p);_!==void 0&&_.delete(m)}),M}},le=(e,t)=>{const n=e.get(t);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},ft=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return e.delete(r),r},Qn=(e,t,n,r)=>{const o=le(e,t),s=ft(o,i=>i[0]===n&&i[1]===r);return o.size===0&&e.delete(t),s},Ve=e=>le(Zn,e),xe=e=>{if(Ie.has(e))throw new Error("The AudioNode is already stored.");Ie.add(e),Ve(e).forEach(t=>t(!0))},Jn=e=>"port"in e,ht=e=>{if(!Ie.has(e))throw new Error("The AudioNode is not stored.");Ie.delete(e),Ve(e).forEach(t=>t(!1))},Rt=(e,t)=>{!Jn(e)&&t.every(n=>n.size===0)&&ht(e)},Ho=(e,t,n,r,o,s,i,c,a,u,d,l,h)=>{const f=new WeakMap;return(p,m,g,v,y)=>{const{activeInputs:b,passiveInputs:M}=s(m),{outputs:_}=s(p),A=c(p),w=E=>{const C=a(m),N=a(p);if(E){const S=Qn(M,p,g,v);e(b,p,S,!1),!y&&!l(p)&&n(N,C,g,v),h(m)&&xe(m)}else{const S=r(b,p,g,v);t(M,v,S,!1),!y&&!l(p)&&o(N,C,g,v);const x=i(m);if(x===0)d(m)&&Rt(m,b);else{const I=f.get(m);I!==void 0&&clearTimeout(I),f.set(m,setTimeout(()=>{d(m)&&Rt(m,b)},x*1e3))}}};return u(_,[m,g,v],E=>E[0]===m&&E[1]===g&&E[2]===v,!0)?(A.add(w),d(p)?e(b,p,[g,v,w],!0):t(M,v,[p,g,w],!0),!0):!1}},Xo=e=>(t,n,[r,o,s],i)=>{const c=t.get(r);c===void 0?t.set(r,new Set([[o,n,s]])):e(c,[o,n,s],a=>a[0]===o&&a[1]===n,i)},Yo=e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},Zo=e=>(t,n)=>{e(t).add(n)},Vt=(e,t)=>e.context===t,bn=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Ee=()=>new DOMException("","IndexSizeError"),Ko=e=>{e.getChannelData=(t=>n=>{try{return t.call(e,n)}catch(r){throw r.code===12?Ee():r}})(e.getChannelData)},Qo={numberOfChannels:1},Jo=(e,t,n,r,o,s,i,c)=>{let a=null;return class er{constructor(d){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:l,numberOfChannels:h,sampleRate:f}={...Qo,...d};a===null&&(a=new o(1,1,44100));const p=r!==null&&t(s,s)?new r({length:l,numberOfChannels:h,sampleRate:f}):a.createBuffer(h,l,f);if(p.numberOfChannels===0)throw n();return typeof p.copyFromChannel!="function"?(i(p),Ko(p)):t(bn,()=>bn(p))||c(p),e.add(p),p}static[Symbol.hasInstance](d){return d!==null&&typeof d=="object"&&Object.getPrototypeOf(d)===er.prototype||e.has(d)}}},$e=-34028234663852886e22,pt=-$e,ve=e=>Ie.has(e),es={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ts=(e,t,n,r,o,s,i,c)=>class extends e{constructor(u,d){const l=s(u),h={...es,...d},f=o(l,h),p=i(l),m=p?t():null;super(u,!1,f,m),this._audioBufferSourceNodeRenderer=m,this._isBufferNullified=!1,this._isBufferSet=h.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,p,f.playbackRate,pt,$e)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const d=typeof u=="function"?c(this,u):null;this._nativeAudioBufferSourceNode.onended=d;const l=this._nativeAudioBufferSourceNode.onended;this._onended=l!==null&&l===d?u:l}get playbackRate(){return this._playbackRate}start(u=0,d=0,l){if(this._nativeAudioBufferSourceNode.start(u,d,l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=l===void 0?[u,d]:[u,d,l]),this.context.state!=="closed"){xe(this);const h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),ve(this)&&ht(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},ns=(e,t,n,r,o)=>()=>{const s=new WeakMap;let i=null,c=null;const a=async(u,d)=>{let l=n(u);const h=Vt(l,d);if(!h){const f={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,loop:l.loop,loopEnd:l.loopEnd,loopStart:l.loopStart,playbackRate:l.playbackRate.value};l=t(d,f),i!==null&&l.start(...i),c!==null&&l.stop(c)}return s.set(d,l),h?await e(d,u.playbackRate,l.playbackRate):await r(d,u.playbackRate,l.playbackRate),await o(u,d,l),l};return{set start(u){i=u},set stop(u){c=u},render(u,d){const l=s.get(d);return l!==void 0?Promise.resolve(l):a(u,d)}}},rs=e=>"playbackRate"in e,os=e=>"frequency"in e&&"gain"in e,ss=e=>"offset"in e,as=e=>!("frequency"in e)&&"gain"in e,is=e=>"detune"in e&&"frequency"in e,cs=e=>"pan"in e,J=e=>le(Gn,e),Fe=e=>le(Hn,e),xt=(e,t)=>{const{activeInputs:n}=J(e);n.forEach(o=>o.forEach(([s])=>{t.includes(e)||xt(s,[...t,e])}));const r=rs(e)?[e.playbackRate]:Jn(e)?Array.from(e.parameters.values()):os(e)?[e.Q,e.detune,e.frequency,e.gain]:ss(e)?[e.offset]:as(e)?[e.gain]:is(e)?[e.detune,e.frequency]:cs(e)?[e.pan]:[];for(const o of r){const s=Fe(o);s!==void 0&&s.activeInputs.forEach(([i])=>xt(i,t))}ve(e)&&ht(e)},us=e=>{xt(e.destination,[])},ls=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback"),ds=(e,t,n,r,o,s,i,c)=>class extends e{constructor(u,d){const l=s(u),h=i(l),f=o(l,d,h),p=h?t(c):null;super(u,!1,f,p),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},fs=e=>{const t=new WeakMap,n=async(r,o)=>{const s=o.destination;return t.set(o,s),await e(r,o,s),s};return{render(r,o){const s=t.get(o);return s!==void 0?Promise.resolve(s):n(r,o)}}},hs=(e,t,n,r,o,s,i,c)=>(a,u)=>{const d=u.listener,l=()=>{const _=new Float32Array(1),A=t(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),w=i(u);let E=!1,C=[0,0,-1,0,1,0],N=[0,0,0];const S=()=>{if(E)return;E=!0;const L=r(u,256,9,0);L.onaudioprocess=({inputBuffer:R})=>{const B=[s(R,_,0),s(R,_,1),s(R,_,2),s(R,_,3),s(R,_,4),s(R,_,5)];B.some((O,U)=>O!==C[U])&&(d.setOrientation(...B),C=B);const W=[s(R,_,6),s(R,_,7),s(R,_,8)];W.some((O,U)=>O!==N[U])&&(d.setPosition(...W),N=W)},A.connect(L)},x=L=>R=>{R!==C[L]&&(C[L]=R,d.setOrientation(...C))},I=L=>R=>{R!==N[L]&&(N[L]=R,d.setPosition(...N))},P=(L,R,B)=>{const W=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:R});W.connect(A,0,L),W.start(),Object.defineProperty(W.offset,"defaultValue",{get(){return R}});const O=e({context:a},w,W.offset,pt,$e);return c(O,"value",U=>()=>U.call(O),U=>V=>{try{U.call(O,V)}catch(z){if(z.code!==9)throw z}S(),w&&B(V)}),O.cancelAndHoldAtTime=(U=>w?()=>{throw o()}:(...V)=>{const z=U.apply(O,V);return S(),z})(O.cancelAndHoldAtTime),O.cancelScheduledValues=(U=>w?()=>{throw o()}:(...V)=>{const z=U.apply(O,V);return S(),z})(O.cancelScheduledValues),O.exponentialRampToValueAtTime=(U=>w?()=>{throw o()}:(...V)=>{const z=U.apply(O,V);return S(),z})(O.exponentialRampToValueAtTime),O.linearRampToValueAtTime=(U=>w?()=>{throw o()}:(...V)=>{const z=U.apply(O,V);return S(),z})(O.linearRampToValueAtTime),O.setTargetAtTime=(U=>w?()=>{throw o()}:(...V)=>{const z=U.apply(O,V);return S(),z})(O.setTargetAtTime),O.setValueAtTime=(U=>w?()=>{throw o()}:(...V)=>{const z=U.apply(O,V);return S(),z})(O.setValueAtTime),O.setValueCurveAtTime=(U=>w?()=>{throw o()}:(...V)=>{const z=U.apply(O,V);return S(),z})(O.setValueCurveAtTime),O};return{forwardX:P(0,0,x(0)),forwardY:P(1,0,x(1)),forwardZ:P(2,-1,x(2)),positionX:P(6,0,I(0)),positionY:P(7,0,I(1)),positionZ:P(8,0,I(2)),upX:P(3,0,x(3)),upY:P(4,1,x(4)),upZ:P(5,0,x(5))}},{forwardX:h,forwardY:f,forwardZ:p,positionX:m,positionY:g,positionZ:v,upX:y,upY:b,upZ:M}=d.forwardX===void 0?l():d;return{get forwardX(){return h},get forwardY(){return f},get forwardZ(){return p},get positionX(){return m},get positionY(){return g},get positionZ(){return v},get upX(){return y},get upY(){return b},get upZ(){return M}}},ot=e=>"context"in e,je=e=>ot(e[0]),Ae=(e,t,n,r)=>{for(const o of e)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},En=(e,t,[n,r],o)=>{Ae(e,[t,n,r],s=>s[0]===t&&s[1]===n,o)},An=(e,[t,n,r],o)=>{const s=e.get(t);s===void 0?e.set(t,new Set([[n,r]])):Ae(s,[n,r],i=>i[0]===n,o)},tr=e=>"inputs"in e,Lt=(e,t,n,r)=>{if(tr(t)){const o=t.inputs[r];return e.connect(o,n,0),[o,n,0]}return e.connect(t,n,r),[t,n,r]},nr=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},ps=(e,t,n)=>ft(e,r=>r[0]===t&&r[1]===n),rr=(e,t)=>{if(!Ve(e).delete(t))throw new Error("Missing the expected event listener.")},or=(e,t,n)=>{const r=le(e,t),o=ft(r,s=>s[0]===n);return r.size===0&&e.delete(t),o},Ut=(e,t,n,r)=>{tr(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},ae=e=>le(zn,e),Le=e=>le(Xn,e),be=e=>It.has(e),Qe=e=>!Ie.has(e),Cn=(e,t)=>new Promise(n=>{if(t!==null)n(!0);else{const r=e.createScriptProcessor(256,1,1),o=e.createGain(),s=e.createBuffer(1,2,44100),i=s.getChannelData(0);i[0]=1,i[1]=1;const c=e.createBufferSource();c.buffer=s,c.loop=!0,c.connect(r).connect(e.destination),c.connect(o),c.disconnect(o),r.onaudioprocess=a=>{const u=a.inputBuffer.getChannelData(0);Array.prototype.some.call(u,d=>d===1)?n(!0):n(!1),c.stop(),r.onaudioprocess=null,c.disconnect(r),r.disconnect(e.destination)},c.start()}}),Ct=(e,t)=>{const n=new Map;for(const r of e)for(const o of r){const s=n.get(o);n.set(o,s===void 0?1:s+1)}n.forEach((r,o)=>t(o,r))},st=e=>"context"in e,ms=e=>{const t=new Map;e.connect=(n=>(r,o=0,s=0)=>{const i=st(r)?n(r,o,s):n(r,o),c=t.get(r);return c===void 0?t.set(r,[{input:s,output:o}]):c.every(a=>a.input!==s||a.output!==o)&&c.push({input:s,output:o}),i})(e.connect.bind(e)),e.disconnect=(n=>(r,o,s)=>{if(n.apply(e),r===void 0)t.clear();else if(typeof r=="number")for(const[i,c]of t){const a=c.filter(u=>u.output!==r);a.length===0?t.delete(i):t.set(i,a)}else if(t.has(r))if(o===void 0)t.delete(r);else{const i=t.get(r);if(i!==void 0){const c=i.filter(a=>a.output!==o&&(a.input!==s||s===void 0));c.length===0?t.delete(r):t.set(r,c)}}for(const[i,c]of t)c.forEach(a=>{st(i)?e.connect(i,a.output,a.input):e.connect(i,a.output)})})(e.disconnect)},gs=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:s}=Fe(t),{outputs:i}=J(e),c=Ve(e),a=u=>{const d=ae(e),l=Le(t);if(u){const h=or(s,e,n);En(o,e,h,!1),!r&&!be(e)&&d.connect(l,n)}else{const h=ps(o,e,n);An(s,h,!1),!r&&!be(e)&&d.disconnect(l,n)}};return Ae(i,[t,n],u=>u[0]===t&&u[1]===n,!0)?(c.add(a),ve(e)?En(o,e,[n,a],!0):An(s,[e,n,a],!0),!0):!1},vs=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:s}=J(t),i=nr(o[r],e,n);return i===null?[Qn(s,e,n,r)[2],!1]:[i[2],!0]},_s=(e,t,n)=>{const{activeInputs:r,passiveInputs:o}=Fe(t),s=nr(r,e,n);return s===null?[or(o,e,n)[1],!1]:[s[2],!0]},$t=(e,t,n,r,o)=>{const[s,i]=vs(e,n,r,o);if(s!==null&&(rr(e,s),i&&!t&&!be(e)&&Ut(ae(e),ae(n),r,o)),ve(n)){const{activeInputs:c}=J(n);Rt(n,c)}},Ft=(e,t,n,r)=>{const[o,s]=_s(e,n,r);o!==null&&(rr(e,o),s&&!t&&!be(e)&&ae(e).disconnect(Le(n),r))},ws=(e,t)=>{const n=J(e),r=[];for(const o of n.outputs)je(o)?$t(e,t,...o):Ft(e,t,...o),r.push(o[0]);return n.outputs.clear(),r},ys=(e,t,n)=>{const r=J(e),o=[];for(const s of r.outputs)s[1]===n&&(je(s)?$t(e,t,...s):Ft(e,t,...s),o.push(s[0]),r.outputs.delete(s));return o},bs=(e,t,n,r,o)=>{const s=J(e);return Array.from(s.outputs).filter(i=>i[0]===n&&(r===void 0||i[1]===r)&&(o===void 0||i[2]===o)).map(i=>(je(i)?$t(e,t,...i):Ft(e,t,...i),s.outputs.delete(i),i[0]))},Es=(e,t,n,r,o,s,i,c,a,u,d,l,h,f,p,m)=>class extends u{constructor(v,y,b,M){super(b),this._context=v,this._nativeAudioNode=b;const _=d(v);l(_)&&n(Cn,()=>Cn(_,m))!==!0&&ms(b),zn.set(this,b),Zn.set(this,new Set),v.state!=="closed"&&y&&xe(this),e(this,M,b)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,y=0,b=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw o();const M=d(this._context),_=p(M);if(h(v)||f(v))throw s();if(ot(v)){const E=ae(v);try{const N=Lt(this._nativeAudioNode,E,y,b),S=Qe(this);(_||S)&&this._nativeAudioNode.disconnect(...N),this.context.state!=="closed"&&!S&&Qe(v)&&xe(v)}catch(N){throw N.code===12?s():N}if(t(this,v,y,b,_)){const N=a([this],v);Ct(N,r(_))}return v}const A=Le(v);if(A.name==="playbackRate"&&A.maxValue===1024)throw i();try{this._nativeAudioNode.connect(A,y),(_||Qe(this))&&this._nativeAudioNode.disconnect(A,y)}catch(E){throw E.code===12?s():E}if(gs(this,v,y,_)){const E=a([this],v);Ct(E,r(_))}}disconnect(v,y,b){let M;const _=d(this._context),A=p(_);if(v===void 0)M=ws(this,A);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw o();M=ys(this,A,v)}else{if(y!==void 0&&(y<0||y>=this.numberOfOutputs)||ot(v)&&b!==void 0&&(b<0||b>=v.numberOfInputs))throw o();if(M=bs(this,A,v,y,b),M.length===0)throw s()}for(const w of M){const E=a([this],w);Ct(E,c)}}},As=(e,t,n,r,o,s,i,c,a,u,d,l,h)=>(f,p,m,g=null,v=null)=>{const y=new Uo(m.defaultValue),b=p?r(y):null,M={get defaultValue(){return m.defaultValue},get maxValue(){return g===null?m.maxValue:g},get minValue(){return v===null?m.minValue:v},get value(){return m.value},set value(_){m.value=_,M.setValueAtTime(_,f.context.currentTime)},cancelAndHoldAtTime(_){if(typeof m.cancelAndHoldAtTime=="function")b===null&&y.flush(f.context.currentTime),y.add(o(_)),m.cancelAndHoldAtTime(_);else{const A=Array.from(y).pop();b===null&&y.flush(f.context.currentTime),y.add(o(_));const w=Array.from(y).pop();m.cancelScheduledValues(_),A!==w&&w!==void 0&&(w.type==="exponentialRampToValue"?m.exponentialRampToValueAtTime(w.value,w.endTime):w.type==="linearRampToValue"?m.linearRampToValueAtTime(w.value,w.endTime):w.type==="setValue"?m.setValueAtTime(w.value,w.startTime):w.type==="setValueCurve"&&m.setValueCurveAtTime(w.values,w.startTime,w.duration))}return M},cancelScheduledValues(_){return b===null&&y.flush(f.context.currentTime),y.add(s(_)),m.cancelScheduledValues(_),M},exponentialRampToValueAtTime(_,A){if(_===0)throw new RangeError;if(!Number.isFinite(A)||A<0)throw new RangeError;return b===null&&y.flush(f.context.currentTime),y.add(i(_,A)),m.exponentialRampToValueAtTime(_,A),M},linearRampToValueAtTime(_,A){return b===null&&y.flush(f.context.currentTime),y.add(c(_,A)),m.linearRampToValueAtTime(_,A),M},setTargetAtTime(_,A,w){return b===null&&y.flush(f.context.currentTime),y.add(a(_,A,w)),m.setTargetAtTime(_,A,w),M},setValueAtTime(_,A){return b===null&&y.flush(f.context.currentTime),y.add(u(_,A)),m.setValueAtTime(_,A),M},setValueCurveAtTime(_,A,w){const E=_ instanceof Float32Array?_:new Float32Array(_);if(l!==null&&l.name==="webkitAudioContext"){const C=A+w,N=f.context.sampleRate,S=Math.ceil(A*N),x=Math.floor(C*N),I=x-S,P=new Float32Array(I);for(let R=0;R<I;R+=1){const B=(E.length-1)/w*((S+R)/N-A),W=Math.floor(B),O=Math.ceil(B);P[R]=W===O?E[W]:(1-(B-W))*E[W]+(1-(O-B))*E[O]}b===null&&y.flush(f.context.currentTime),y.add(d(P,A,w)),m.setValueCurveAtTime(P,A,w);const L=x/N;L<C&&h(M,P[P.length-1],L),h(M,E[E.length-1],C)}else b===null&&y.flush(f.context.currentTime),y.add(d(E,A,w)),m.setValueCurveAtTime(E,A,w);return M}};return n.set(M,m),t.set(M,f),e(M,b),M},Cs=e=>({replay(t){for(const n of e)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;t.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;t.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:s}=n;t.setTargetAtTime(o,r,s)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;t.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:s}=n;t.setValueCurveAtTime(s,o,r)}else throw new Error("Can't apply an unknown automation.")}});class sr{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,n=null){return this._map.forEach((r,o)=>t.call(n,r,o,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Ms={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Ts=(e,t,n,r,o,s,i,c,a,u,d,l,h,f)=>class extends t{constructor(m,g,v){var y;const b=c(m),M=a(b),_=d({...Ms,...v});h(_);const A=Ot.get(b),w=A==null?void 0:A.get(g),E=M||b.state!=="closed"?b:(y=i(b))!==null&&y!==void 0?y:b,C=o(E,M?null:m.baseLatency,u,g,w,_),N=M?r(g,_,w):null;super(m,!0,C,N);const S=[];C.parameters.forEach((I,P)=>{const L=n(this,M,I);S.push([P,L])}),this._nativeAudioWorkletNode=C,this._onprocessorerror=null,this._parameters=new sr(S),M&&e(b,this);const{activeInputs:x}=s(this);l(C,x)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(m){const g=typeof m=="function"?f(this,m):null;this._nativeAudioWorkletNode.onprocessorerror=g;const v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===g?m:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function at(e,t,n,r,o){if(typeof e.copyFromChannel=="function")t[n].byteLength===0&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],r,o);else{const s=e.getChannelData(r);if(t[n].byteLength===0)t[n]=s.slice(o,o+128);else{const i=new Float32Array(s.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(i)}}}const ar=(e,t,n,r,o)=>{typeof e.copyToChannel=="function"?t[n].byteLength!==0&&e.copyToChannel(t[n],r,o):t[n].byteLength!==0&&e.getChannelData(r).set(t[n],o)},it=(e,t)=>{const n=[];for(let r=0;r<e;r+=1){const o=[],s=typeof t=="number"?t:t[r];for(let i=0;i<s;i+=1)o.push(new Float32Array(128));n.push(o)}return n},Ns=(e,t)=>{const n=le(kt,e),r=ae(t);return le(n,r)},Ss=async(e,t,n,r,o,s,i)=>{const c=t===null?Math.ceil(e.context.length/128)*128:t.length,a=r.channelCount*r.numberOfInputs,u=o.reduce((g,v)=>g+v,0),d=u===0?null:n.createBuffer(u,c,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const l=J(e),h=await Ns(n,e),f=it(r.numberOfInputs,r.channelCount),p=it(r.numberOfOutputs,o),m=Array.from(e.parameters.keys()).reduce((g,v)=>({...g,[v]:new Float32Array(128)}),{});for(let g=0;g<c;g+=128){if(r.numberOfInputs>0&&t!==null)for(let v=0;v<r.numberOfInputs;v+=1)for(let y=0;y<r.channelCount;y+=1)at(t,f[v],y,y,g);s.parameterDescriptors!==void 0&&t!==null&&s.parameterDescriptors.forEach(({name:v},y)=>{at(t,m,v,a+y,g)});for(let v=0;v<r.numberOfInputs;v+=1)for(let y=0;y<o[v];y+=1)p[v][y].byteLength===0&&(p[v][y]=new Float32Array(128));try{const v=f.map((b,M)=>l.activeInputs[M].size===0?[]:b),y=i(g/n.sampleRate,n.sampleRate,()=>h.process(v,p,m));if(d!==null)for(let b=0,M=0;b<r.numberOfOutputs;b+=1){for(let _=0;_<o[b];_+=1)ar(d,p[b],_,M+_,g);M+=o[b]}if(!y)break}catch(v){e.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return d},Is=(e,t,n,r,o,s,i,c,a,u,d,l,h,f,p,m)=>(g,v,y)=>{const b=new WeakMap;let M=null;const _=async(A,w)=>{let E=d(A),C=null;const N=Vt(E,w),S=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(l===null){const x=S.reduce((R,B)=>R+B,0),I=o(w,{channelCount:Math.max(1,x),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,x)}),P=[];for(let R=0;R<A.numberOfOutputs;R+=1)P.push(r(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:S[R]}));const L=i(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});L.connect=t.bind(null,P),L.disconnect=a.bind(null,P),C=[I,P,L]}else N||(E=new l(w,g));if(b.set(w,C===null?E:C[2]),C!==null){if(M===null){if(y===void 0)throw new Error("Missing the processor constructor.");if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const B=A.channelCount*A.numberOfInputs,W=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length,O=B+W;M=Ss(A,O===0?null:await(async()=>{const V=new h(O,Math.ceil(A.context.length/128)*128,w.sampleRate),z=[],Me=[];for(let j=0;j<v.numberOfInputs;j+=1)z.push(i(V,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),Me.push(o(V,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const Te=await Promise.all(Array.from(A.parameters.values()).map(async j=>{const te=s(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:j.value});return await f(V,j,te.offset),te})),Ne=r(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,B+W)});for(let j=0;j<v.numberOfInputs;j+=1){z[j].connect(Me[j]);for(let te=0;te<v.channelCount;te+=1)Me[j].connect(Ne,te,j*v.channelCount+te)}for(const[j,te]of Te.entries())te.connect(Ne,0,B+j),te.start(0);return Ne.connect(V.destination),await Promise.all(z.map(j=>p(A,V,j))),m(V)})(),w,v,S,y,u)}const x=await M,I=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[P,L,R]=C;x!==null&&(I.buffer=x,I.start(0)),I.connect(P);for(let B=0,W=0;B<A.numberOfOutputs;B+=1){const O=L[B];for(let U=0;U<S[B];U+=1)P.connect(O,W+U,U);W+=S[B]}return R}if(N)for(const[x,I]of A.parameters.entries())await e(w,I,E.parameters.get(x));else for(const[x,I]of A.parameters.entries())await f(w,I,E.parameters.get(x));return await p(A,w,E),E};return{render(A,w){c(w,A);const E=b.get(w);return E!==void 0?Promise.resolve(E):_(A,w)}}},Os=(e,t)=>(n,r)=>{const o=t.get(n);if(o!==void 0)return o;const s=e.get(n);if(s!==void 0)return s;try{const i=r();return i instanceof Promise?(e.set(n,i),i.catch(()=>!1).then(c=>(e.delete(n),t.set(n,c),c))):(t.set(n,i),i)}catch{return t.set(n,!1),!1}},ks=e=>(t,n,r)=>e(n,t,r),Rs=e=>(t,n,r=0,o=0)=>{const s=t[r];if(s===void 0)throw e();return st(n)?s.connect(n,0,o):s.connect(n,0)},xs={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ls=(e,t,n,r,o,s,i)=>class extends e{constructor(a,u){const d=o(a),l={...xs,...u},h=r(d,l),f=s(d),p=f?n():null;super(a,!1,h,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=h,this._offset=t(this,f,h.offset,pt,$e),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(a){const u=typeof a=="function"?i(this,a):null;this._nativeConstantSourceNode.onended=u;const d=this._nativeConstantSourceNode.onended;this._onended=d!==null&&d===u?a:d}start(a=0){if(this._nativeConstantSourceNode.start(a),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=a),this.context.state!=="closed"){xe(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),ve(this)&&ht(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(a=0){this._nativeConstantSourceNode.stop(a),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=a)}},Us=(e,t,n,r,o)=>()=>{const s=new WeakMap;let i=null,c=null;const a=async(u,d)=>{let l=n(u);const h=Vt(l,d);if(!h){const f={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,offset:l.offset.value};l=t(d,f),i!==null&&l.start(i),c!==null&&l.stop(c)}return s.set(d,l),h?await e(d,u.offset,l.offset):await r(d,u.offset,l.offset),await o(u,d,l),l};return{set start(u){i=u},set stop(u){c=u},render(u,d){const l=s.get(d);return l!==void 0?Promise.resolve(l):a(u,d)}}},Ps=e=>t=>(e[0]=t,e[0]),Bs=(e,t,n,r,o,s,i,c)=>(a,u)=>{const d=t.get(a);if(d===void 0)throw new Error("Missing the expected cycle count.");const l=s(a.context),h=c(l);if(d===u){if(t.delete(a),!h&&i(a)){const f=r(a),{outputs:p}=n(a);for(const m of p)if(je(m)){const g=r(m[0]);e(f,g,m[1],m[2])}else{const g=o(m[0]);f.connect(g,m[1])}}}else t.set(a,d-u)},Ds=e=>(t,n,r,o)=>e(t[o],s=>s[0]===n&&s[1]===r),Ws=e=>(t,n)=>{e(t).delete(n)},Vs=e=>"delayTime"in e,$s=(e,t,n)=>function r(o,s){const i=ot(s)?s:n(e,s);if(Vs(i))return[];if(o[0]===i)return[o];if(o.includes(i))return[];const{outputs:c}=t(i);return Array.from(c).map(a=>r([...o,i],a[0])).reduce((a,u)=>a.concat(u),[])},Ke=(e,t,n)=>{const r=t[n];if(r===void 0)throw e();return r},Fs=e=>(t,n=void 0,r=void 0,o=0)=>n===void 0?t.forEach(s=>s.disconnect()):typeof n=="number"?Ke(e,t,n).disconnect():st(n)?r===void 0?t.forEach(s=>s.disconnect(n)):o===void 0?Ke(e,t,r).disconnect(n,0):Ke(e,t,r).disconnect(n,0,o):r===void 0?t.forEach(s=>s.disconnect(n)):Ke(e,t,r).disconnect(n,0),js=e=>t=>new Promise((n,r)=>{if(e===null){r(new SyntaxError);return}const o=e.document.head;if(o===null)r(new SyntaxError);else{const s=e.document.createElement("script"),i=new Blob([t],{type:"application/javascript"}),c=URL.createObjectURL(i),a=e.onerror,u=()=>{e.onerror=a,URL.revokeObjectURL(c)};e.onerror=(d,l,h,f,p)=>{if(l===c||l===e.location.href&&h===1&&f===1)return u(),r(p),!1;if(a!==null)return a(d,l,h,f,p)},s.onerror=()=>{u(),r(new SyntaxError)},s.onload=()=>{u(),n()},s.src=c,s.type="module",o.appendChild(s)}}),qs=e=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let s=this._listeners.get(r);s===void 0&&(s=e(this,r),typeof r=="function"&&this._listeners.set(r,s)),this._nativeEventTarget.addEventListener(n,s,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){const s=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,o)}},Gs=e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(t*n)}},currentTime:{configurable:!0,get(){return t}}});try{return r()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}},zs=e=>async t=>{try{const n=await fetch(t);if(n.ok)return[await n.text(),n.url]}catch{}throw e()},Hs=(e,t)=>n=>t(e,n),Xs=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},Ys=e=>t=>{var n;return(n=e.get(t))!==null&&n!==void 0?n:0},Zs=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Ks=e=>t=>e.get(t),ue=()=>new DOMException("","InvalidStateError"),Qs=e=>t=>{const n=e.get(t);if(n===void 0)throw ue();return n},Js=(e,t)=>n=>{let r=e.get(n);if(r!==void 0)return r;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r},ea=e=>t=>{const n=e.get(t);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},ta=()=>new DOMException("","InvalidAccessError"),na=(e,t,n,r,o,s)=>i=>(c,a)=>{const u=e.get(c);if(u===void 0){if(!i&&s(c)){const d=r(c),{outputs:l}=n(c);for(const h of l)if(je(h)){const f=r(h[0]);t(d,f,h[1],h[2])}else{const f=o(h[0]);d.disconnect(f,h[1])}}e.set(c,a)}else e.set(c,u+a)},ra=e=>t=>e!==null&&t instanceof e,oa=e=>t=>e!==null&&typeof e.AudioNode=="function"&&t instanceof e.AudioNode,sa=e=>t=>e!==null&&typeof e.AudioParam=="function"&&t instanceof e.AudioParam,aa=e=>t=>e!==null&&t instanceof e,ia=e=>e!==null&&e.isSecureContext,ca=(e,t,n,r)=>class extends e{constructor(s,i){const c=n(s),a=t(c,i);if(r(c))throw new TypeError;super(s,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},ua=(e,t,n,r,o)=>class extends r{constructor(i={}){if(o===null)throw new Error("Missing the native AudioContext constructor.");let c;try{c=new o(i)}catch(d){throw d.code===12&&d.message==="sampleRate is not in range"?t():d}if(c===null)throw n();if(!ls(i.latencyHint))throw new TypeError(`The provided value '${i.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(i.sampleRate!==void 0&&c.sampleRate!==i.sampleRate)throw t();super(c,2);const{latencyHint:a}=i,{sampleRate:u}=c;if(this._baseLatency=typeof c.baseLatency=="number"?c.baseLatency:a==="balanced"?512/u:a==="interactive"||a===void 0?256/u:a==="playback"?1024/u:Math.max(2,Math.min(128,Math.round(a*u/128)))*128/u,this._nativeAudioContext=c,o.name==="webkitAudioContext"?(this._nativeGainNode=c.createGain(),this._nativeOscillatorNode=c.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(c.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,c.state==="running"){this._state="suspended";const d=()=>{this._state==="suspended"&&(this._state=null),c.removeEventListener("statechange",d)};c.addEventListener("statechange",d)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),us(this)}))}resume(){return this._state==="suspended"?new Promise((i,c)=>{const a=()=>{this._nativeAudioContext.removeEventListener("statechange",a),this._nativeAudioContext.state==="running"?i():this.resume().then(i,c)};this._nativeAudioContext.addEventListener("statechange",a)}):this._nativeAudioContext.resume().catch(i=>{throw i===void 0||i.code===15?e():i})}suspend(){return this._nativeAudioContext.suspend().catch(i=>{throw i===void 0?e():i})}},la=(e,t,n,r,o,s)=>class extends n{constructor(c,a){super(c),this._nativeContext=c,Yn.set(this,c),r(c)&&o.set(c,new Set),this._destination=new e(this,a),this._listener=t(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const a=typeof c=="function"?s(this,c):null;this._nativeContext.onstatechange=a;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===a?c:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Mn=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},da=(e,t)=>(n,r,o)=>{const s=new Set;return n.connect=(i=>(c,a=0,u=0)=>{const d=s.size===0;if(t(c))return i.call(n,c,a,u),e(s,[c,a,u],l=>l[0]===c&&l[1]===a&&l[2]===u,!0),d&&r(),c;i.call(n,c,a),e(s,[c,a],l=>l[0]===c&&l[1]===a,!0),d&&r()})(n.connect),n.disconnect=(i=>(c,a,u)=>{const d=s.size>0;if(c===void 0)i.apply(n),s.clear();else if(typeof c=="number"){i.call(n,c);for(const h of s)h[1]===c&&s.delete(h)}else{t(c)?i.call(n,c,a,u):i.call(n,c,a);for(const h of s)h[0]===c&&(a===void 0||h[1]===a)&&(u===void 0||h[2]===u)&&s.delete(h)}const l=s.size===0;d&&l&&o()})(n.disconnect),n},ye=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n]&&(e[n]=r)},qe=(e,t)=>{ye(e,t,"channelCount"),ye(e,t,"channelCountMode"),ye(e,t,"channelInterpretation")},fa=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null,jt=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n].value&&(e[n].value=r)},ha=e=>{e.start=(t=>{let n=!1;return(r=0,o=0,s)=>{if(n)throw ue();t.call(e,r,o,s),n=!0}})(e.start)},ir=e=>{e.start=(t=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,o)})(e.start)},cr=e=>{e.stop=(t=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})(e.stop)},pa=(e,t,n,r,o,s,i,c,a,u,d)=>(l,h)=>{const f=l.createBufferSource();return qe(f,h),jt(f,h,"playbackRate"),ye(f,h,"buffer"),ye(f,h,"loop"),ye(f,h,"loopEnd"),ye(f,h,"loopStart"),t(n,()=>n(l))||ha(f),t(r,()=>r(l))||a(f),t(o,()=>o(l))||u(f,l),t(s,()=>s(l))||ir(f),t(i,()=>i(l))||d(f,l),t(c,()=>c(l))||cr(f),e(l,f),f},ma=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null,ga=(e,t)=>(n,r,o)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}o&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:r});const i=e(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return t(i,"channelCount",c=>()=>c.call(i),c=>a=>{c.call(i,a);try{s.channelCount=a}catch(u){if(a>s.maxChannelCount)throw u}}),t(i,"channelCountMode",c=>()=>c.call(i),c=>a=>{c.call(i,a),s.channelCountMode=a}),t(i,"channelInterpretation",c=>()=>c.call(i),c=>a=>{c.call(i,a),s.channelInterpretation=a}),Object.defineProperty(i,"maxChannelCount",{get:()=>s.maxChannelCount}),i.connect(s),i},va=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null,_a=e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}},wa=(e,t,n,r,o)=>(s,i,c,a,u,d)=>{if(c!==null)try{const l=new c(s,a,d),h=new Map;let f=null;if(Object.defineProperties(l,{channelCount:{get:()=>d.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>f,set:p=>{typeof f=="function"&&l.removeEventListener("processorerror",f),f=typeof p=="function"?p:null,typeof f=="function"&&l.addEventListener("processorerror",f)}}}),l.addEventListener=(p=>(...m)=>{if(m[0]==="processorerror"){const g=typeof m[1]=="function"?m[1]:typeof m[1]=="object"&&m[1]!==null&&typeof m[1].handleEvent=="function"?m[1].handleEvent:null;if(g!==null){const v=h.get(m[1]);v!==void 0?m[1]=v:(m[1]=y=>{y.type==="error"?(Object.defineProperties(y,{type:{value:"processorerror"}}),g(y)):g(new ErrorEvent(m[0],{...y}))},h.set(g,m[1]))}}return p.call(l,"error",m[1],m[2]),p.call(l,...m)})(l.addEventListener),l.removeEventListener=(p=>(...m)=>{if(m[0]==="processorerror"){const g=h.get(m[1]);g!==void 0&&(h.delete(m[1]),m[1]=g)}return p.call(l,"error",m[1],m[2]),p.call(l,m[0],m[1],m[2])})(l.removeEventListener),d.numberOfOutputs!==0){const p=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return l.connect(p).connect(s.destination),o(l,()=>p.disconnect(),()=>p.connect(s.destination))}return l}catch(l){throw l.code===11?r():l}if(u===void 0)throw r();return _a(d),t(s,i,u,d)},ya=(e,t)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),ba=e=>new Promise((t,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:s})=>{r.close(),o.close(),t(s)},r.onmessageerror=({data:s})=>{r.close(),o.close(),n(s)},o.postMessage(e)}),Ea=async(e,t)=>{const n=await ba(t);return new e(n)},Aa=(e,t,n,r)=>{let o=kt.get(e);o===void 0&&(o=new WeakMap,kt.set(e,o));const s=Ea(n,r);return o.set(t,s),s},Ca=(e,t,n,r,o,s,i,c,a,u,d,l,h)=>(f,p,m,g)=>{if(g.numberOfInputs===0&&g.numberOfOutputs===0)throw a();const v=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(v.some(T=>T<1))throw a();if(v.length!==g.numberOfOutputs)throw t();if(g.channelCountMode!=="explicit")throw a();const y=g.channelCount*g.numberOfInputs,b=v.reduce((T,k)=>T+k,0),M=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length;if(y+M>6||b>6)throw a();const _=new MessageChannel,A=[],w=[];for(let T=0;T<g.numberOfInputs;T+=1)A.push(i(f,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),w.push(o(f,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const E=[];if(m.parameterDescriptors!==void 0)for(const{defaultValue:T,maxValue:k,minValue:H,name:F}of m.parameterDescriptors){const $=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:g.parameterData[F]!==void 0?g.parameterData[F]:T===void 0?0:T});Object.defineProperties($.offset,{defaultValue:{get:()=>T===void 0?0:T},maxValue:{get:()=>k===void 0?pt:k},minValue:{get:()=>H===void 0?$e:H}}),E.push($)}const C=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+M)}),N=ya(p,f.sampleRate),S=c(f,N,y+M,Math.max(1,b)),x=o(f,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),I=[];for(let T=0;T<g.numberOfOutputs;T+=1)I.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[T]}));for(let T=0;T<g.numberOfInputs;T+=1){A[T].connect(w[T]);for(let k=0;k<g.channelCount;k+=1)w[T].connect(C,k,T*g.channelCount+k)}const P=new sr(m.parameterDescriptors===void 0?[]:m.parameterDescriptors.map(({name:T},k)=>{const H=E[k];return H.connect(C,0,y+k),H.start(0),[T,H.offset]}));C.connect(S);let L=g.channelInterpretation,R=null;const B=g.numberOfOutputs===0?[S]:I,W={get bufferSize(){return N},get channelCount(){return g.channelCount},set channelCount(T){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(T){throw n()},get channelInterpretation(){return L},set channelInterpretation(T){for(const k of A)k.channelInterpretation=T;L=T},get context(){return S.context},get inputs(){return A},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(T){typeof R=="function"&&W.removeEventListener("processorerror",R),R=typeof T=="function"?T:null,typeof R=="function"&&W.addEventListener("processorerror",R)},get parameters(){return P},get port(){return _.port2},addEventListener(...T){return S.addEventListener(T[0],T[1],T[2])},connect:e.bind(null,B),disconnect:u.bind(null,B),dispatchEvent(...T){return S.dispatchEvent(T[0])},removeEventListener(...T){return S.removeEventListener(T[0],T[1],T[2])}},O=new Map;_.port1.addEventListener=(T=>(...k)=>{if(k[0]==="message"){const H=typeof k[1]=="function"?k[1]:typeof k[1]=="object"&&k[1]!==null&&typeof k[1].handleEvent=="function"?k[1].handleEvent:null;if(H!==null){const F=O.get(k[1]);F!==void 0?k[1]=F:(k[1]=$=>{d(f.currentTime,f.sampleRate,()=>H($))},O.set(H,k[1]))}}return T.call(_.port1,k[0],k[1],k[2])})(_.port1.addEventListener),_.port1.removeEventListener=(T=>(...k)=>{if(k[0]==="message"){const H=O.get(k[1]);H!==void 0&&(O.delete(k[1]),k[1]=H)}return T.call(_.port1,k[0],k[1],k[2])})(_.port1.removeEventListener);let U=null;Object.defineProperty(_.port1,"onmessage",{get:()=>U,set:T=>{typeof U=="function"&&_.port1.removeEventListener("message",U),U=typeof T=="function"?T:null,typeof U=="function"&&(_.port1.addEventListener("message",U),_.port1.start())}}),m.prototype.port=_.port1;let V=null;Aa(f,W,m,g).then(T=>V=T);const Me=it(g.numberOfInputs,g.channelCount),Te=it(g.numberOfOutputs,v),Ne=m.parameterDescriptors===void 0?[]:m.parameterDescriptors.reduce((T,{name:k})=>({...T,[k]:new Float32Array(128)}),{});let j=!0;const te=()=>{g.numberOfOutputs>0&&S.disconnect(x);for(let T=0,k=0;T<g.numberOfOutputs;T+=1){const H=I[T];for(let F=0;F<v[T];F+=1)x.disconnect(H,k+F,F);k+=v[T]}},Xe=new Map;S.onaudioprocess=({inputBuffer:T,outputBuffer:k})=>{if(V!==null){const H=l(W);for(let F=0;F<N;F+=128){for(let $=0;$<g.numberOfInputs;$+=1)for(let q=0;q<g.channelCount;q+=1)at(T,Me[$],q,q,F);m.parameterDescriptors!==void 0&&m.parameterDescriptors.forEach(({name:$},q)=>{at(T,Ne,$,y+q,F)});for(let $=0;$<g.numberOfInputs;$+=1)for(let q=0;q<v[$];q+=1)Te[$][q].byteLength===0&&(Te[$][q]=new Float32Array(128));try{const $=Me.map((re,pe)=>{if(H[pe].size>0)return Xe.set(pe,N/128),re;const Et=Xe.get(pe);return Et===void 0?[]:(re.every(Lr=>Lr.every(Ur=>Ur===0))&&(Et===1?Xe.delete(pe):Xe.set(pe,Et-1)),re)});j=d(f.currentTime+F/f.sampleRate,f.sampleRate,()=>V.process($,Te,Ne));for(let re=0,pe=0;re<g.numberOfOutputs;re+=1){for(let Re=0;Re<v[re];Re+=1)ar(k,Te[re],Re,pe+Re,F);pe+=v[re]}}catch($){j=!1,W.dispatchEvent(new ErrorEvent("processorerror",{colno:$.colno,filename:$.filename,lineno:$.lineno,message:$.message}))}if(!j){for(let $=0;$<g.numberOfInputs;$+=1){A[$].disconnect(w[$]);for(let q=0;q<g.channelCount;q+=1)w[F].disconnect(C,q,$*g.channelCount+q)}if(m.parameterDescriptors!==void 0){const $=m.parameterDescriptors.length;for(let q=0;q<$;q+=1){const re=E[q];re.disconnect(C,0,y+q),re.stop()}}C.disconnect(S),S.onaudioprocess=null,yt?te():en();break}}}};let yt=!1;const bt=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Jt=()=>S.connect(bt).connect(f.destination),en=()=>{S.disconnect(bt),bt.disconnect()},Rr=()=>{if(j){en(),g.numberOfOutputs>0&&S.connect(x);for(let T=0,k=0;T<g.numberOfOutputs;T+=1){const H=I[T];for(let F=0;F<v[T];F+=1)x.connect(H,k+F,F);k+=v[T]}}yt=!0},xr=()=>{j&&(Jt(),te()),yt=!1};return Jt(),h(W,Rr,xr)},Ma=(e,t)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&t(n,o),qe(o,r),o},Ta=e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:n=>{if(n!==t)throw ue()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw ue()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw ue()}})},ur=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return qe(n,t),Ta(n),n},Na=(e,t,n,r,o)=>(s,i)=>{if(s.createConstantSource===void 0)return n(s,i);const c=s.createConstantSource();return qe(c,i),jt(c,i,"offset"),t(r,()=>r(s))||ir(c),t(o,()=>o(s))||cr(c),e(s,c),c},lr=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Sa=(e,t,n,r)=>(o,{offset:s,...i})=>{const c=o.createBuffer(1,2,44100),a=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(o,{...i,gain:s}),d=c.getChannelData(0);d[0]=1,d[1]=1,a.buffer=c,a.loop=!0;const l={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(p){u.channelCount=p},get channelCountMode(){return u.channelCountMode},set channelCountMode(p){u.channelCountMode=p},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(p){u.channelInterpretation=p},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return a.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return a.onended},set onended(p){a.onended=p},addEventListener(...p){return a.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return a.dispatchEvent(p[0])},removeEventListener(...p){return a.removeEventListener(p[0],p[1],p[2])},start(p=0){a.start.call(a,p)},stop(p=0){a.stop.call(a,p)}},h=()=>a.connect(u),f=()=>a.disconnect(u);return e(o,a),r(lr(l,u),h,f)},_e=(e,t)=>{const n=e.createGain();return qe(n,t),jt(n,t,"gain"),n},Ia=(e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort((s,i)=>s.id<i.id?-1:s.id>i.id?1:0);const r=n.slice(0,1),o=e.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:t}),o},Oa=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null,qt=(e,t,n,r)=>e.createScriptProcessor(t,n,r),Ce=()=>new DOMException("","NotSupportedError"),ka=(e,t)=>(n,r,o)=>(e(r).replay(o),t(r,n,o)),Ra=(e,t,n)=>async(r,o,s)=>{const i=e(r);await Promise.all(i.activeInputs.map((c,a)=>Array.from(c).map(async([u,d])=>{const h=await t(u).render(u,o),f=r.context.destination;!n(u)&&(r!==f||!n(r))&&h.connect(s,d,a)})).reduce((c,a)=>[...c,...a],[]))},xa=(e,t,n)=>async(r,o,s)=>{const i=t(r);await Promise.all(Array.from(i.activeInputs).map(async([c,a])=>{const d=await e(c).render(c,o);n(c)||d.connect(s,a)}))},La=(e,t,n,r)=>o=>e(Mn,()=>Mn(o))?Promise.resolve(e(r,r)).then(s=>{if(!s){const i=n(o,512,0,1);o.oncomplete=()=>{i.onaudioprocess=null,i.disconnect()},i.onaudioprocess=()=>o.currentTime,i.connect(o.destination)}return o.startRendering()}):new Promise(s=>{const i=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=c=>{i.disconnect(),s(c.renderedBuffer)},i.connect(o.destination),o.startRendering()}),Ua=e=>(t,n)=>{e.set(t,n)},Pa=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0},Ba=(e,t)=>async()=>{if(e===null)return!0;if(t===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),o=URL.createObjectURL(n);let s=!1,i=!1;try{await r.audioWorklet.addModule(o);const c=new e(r,"a",{numberOfOutputs:0}),a=r.createOscillator();c.port.onmessage=()=>s=!0,c.onprocessorerror=()=>i=!0,a.connect(c),a.start(0),await r.startRendering()}catch{}finally{URL.revokeObjectURL(o)}return s&&!i},Da=(e,t)=>()=>{if(t===null)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},Wa=()=>new DOMException("","UnknownError"),Va=()=>typeof window>"u"?null:window,$a=(e,t)=>n=>{n.copyFromChannel=(r,o,s=0)=>{const i=e(s),c=e(o);if(c>=n.numberOfChannels)throw t();const a=n.length,u=n.getChannelData(c),d=r.length;for(let l=i<0?-i:0;l+i<a&&l<d;l+=1)r[l]=u[l+i]},n.copyToChannel=(r,o,s=0)=>{const i=e(s),c=e(o);if(c>=n.numberOfChannels)throw t();const a=n.length,u=n.getChannelData(c),d=r.length;for(let l=i<0?-i:0;l+i<a&&l<d;l+=1)u[l+i]=r[l]}},Fa=e=>t=>{t.copyFromChannel=(n=>(r,o,s=0)=>{const i=e(s),c=e(o);if(i<t.length)return n.call(t,r,c,i)})(t.copyFromChannel),t.copyToChannel=(n=>(r,o,s=0)=>{const i=e(s),c=e(o);if(i<t.length)return n.call(t,r,c,i)})(t.copyToChannel)},ja=e=>(t,n)=>{const r=n.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=r),e(t,"buffer",o=>()=>{const s=o.call(t);return s===r?null:s},o=>s=>o.call(t,s===null?r:s))},qa=(e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const o=n.createBufferSource();t(r,()=>{const c=r.numberOfInputs;for(let a=0;a<c;a+=1)o.connect(r,0,a)},()=>o.disconnect(r))},Ga=(e,t,n)=>e.copyFromChannel===void 0?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),Gt=(e,t,n,r)=>{let o=e;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:s,set:i}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:n(s),set:r(i)})},za=e=>({...e,outputChannelCount:e.outputChannelCount!==void 0?e.outputChannelCount:e.numberOfInputs===1&&e.numberOfOutputs===1?[e.channelCount]:Array.from({length:e.numberOfOutputs},()=>1)}),dr=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(r.code!==9)throw r;dr(e,t,n+1e-7)}},Ha=e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},Xa=e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0},Ya=e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},fr=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},Za=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},hr=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},Ka=e=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),n.close()}},Qa=e=>{e.start=(t=>(n=0,r=0,o)=>{const s=e.buffer,i=s===null?r:Math.min(s.duration,r);s!==null&&i>s.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,i,o)})(e.start)},Ja=(e,t)=>{const n=t.createGain();e.connect(n);const r=(o=>()=>{o.call(e,n),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),lr(e,n),e.stop=(o=>{let s=!1;return(i=0)=>{if(s)try{o.call(e,i)}catch{n.gain.setValueAtTime(0,i)}else o.call(e,i),s=!0}})(e.stop)},Ge=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof t=="function"?t.call(e,n):t.handleEvent.call(e,n)},ei=Fo(Ae),ti=Xo(Ae),ni=Ds(ft),ri=new WeakMap,oi=Ys(ri),Oe=Os(new Map,new WeakMap),de=Va(),pr=Xs(J),mt=Ra(J,pr,be),we=Qs(Yn),ke=Oa(de),fe=aa(ke),mr=new WeakMap,gr=qs(Ge),gt=ma(de),si=ra(gt),vr=oa(de),ai=sa(de),Ue=va(de),ze=Es(jo(Gn),Ho(ei,ti,Lt,ni,Ut,J,oi,Ve,ae,Ae,ve,be,Qe),Oe,na(It,Ut,J,ae,Le,ve),Ee,ta,Ce,Bs(Lt,It,J,ae,Le,we,ve,fe),$s(mr,J,le),gr,we,si,vr,ai,fe,Ue),ii=new WeakSet,Tn=fa(de),_r=Ps(new Uint32Array(1)),ci=$a(_r,Ee),ui=Fa(_r),li=Jo(ii,Oe,Ce,Tn,ke,Pa(Tn),ci,ui),zt=Yo(_e),wr=xa(pr,Fe,be),Ht=ks(wr),vt=pa(zt,Oe,Ha,Xa,Ya,fr,Za,hr,Qa,ja(Gt),Ja),Xt=ka(Zs(Fe),wr),di=ns(Ht,vt,ae,Xt,mt),_t=As(qo(Hn),mr,Xn,Cs,Po,Bo,Do,Wo,Vo,Tt,jn,gt,dr),fi=ts(ze,di,_t,ue,vt,we,fe,Ge),hi=ds(ze,fs,Ee,ue,ga(_e,Gt),we,fe,mt),wt=da(Ae,vr),pi=qa(ue,wt),Yt=Ma(gt,pi),mi=Sa(zt,vt,_e,wt),He=Na(zt,Oe,mi,fr,hr),gi=Us(Ht,He,ae,Xt,mt),vi=Ls(ze,_t,gi,He,we,fe,Ge),_i=La(Oe,_e,qt,Da(_e,ke)),wi=hs(_t,Yt,He,qt,Ce,Ga,fe,Gt),yr=new WeakMap,yi=la(hi,wi,gr,fe,yr,Ge),br=ia(de),Zt=Gs(de),Er=new WeakMap,bi=Js(Er,ke),Nn=br?zo(Oe,Ce,js(de),Zt,zs($o),we,bi,fe,Ue,new WeakMap,new WeakMap,Ba(Ue,ke),de):void 0,Ei=ca(ze,Ia,we,fe),Ar=ea(yr),Ai=Zo(Ar),Cr=Rs(Ee),Ci=Ws(Ar),Mr=Fs(Ee),Tr=new WeakMap,Mi=Hs(Tr,le),Ti=Ca(Cr,Ee,ue,Yt,ur,He,_e,qt,Ce,Mr,Zt,Mi,wt),Ni=wa(ue,Ti,_e,Ce,wt),Si=Is(Ht,Cr,vt,Yt,ur,He,_e,Ci,Mr,Zt,ae,Ue,ke,Xt,mt,_i),Ii=Ks(Er),Oi=Ua(Tr),Sn=br?Ts(Ai,ze,_t,Si,Ni,J,Ii,we,fe,Ue,za,Oi,Ka,Ge):void 0,ki=ua(ue,Ce,Wa,yi,gt),Nr="Missing AudioWorklet support. Maybe this is not running in a secure context.",Ri=async(e,t,n,r,o)=>{const{encoderId:s,port:i}=await Vn(o,t.sampleRate);if(Sn===void 0)throw new Error(Nr);const c=new fi(t,{buffer:e}),a=new Ei(t,{mediaStream:r}),u=Ro(Sn,t,{channelCount:n});return{audioBufferSourceNode:c,encoderId:s,mediaStreamAudioSourceNode:a,port:i,recorderAudioWorkletNode:u}},xi=(e,t,n,r)=>(o,s,i)=>{var c;const a=(c=s.getAudioTracks()[0])===null||c===void 0?void 0:c.getSettings().sampleRate,u=new ki({latencyHint:"playback",sampleRate:a}),d=Math.max(1024,Math.ceil(u.baseLatency*u.sampleRate)),l=new li({length:d,sampleRate:u.sampleRate}),h=[],f=ko(E=>{if(Nn===void 0)throw new Error(Nr);return Nn(u,E)});let p=null,m=null,g=null,v=null,y=!0;const b=E=>{o.dispatchEvent(e("dataavailable",{data:new Blob(E,{type:i})}))},M=async(E,C)=>{const N=await tt(E,C);g===null?h.push(...N):(b(N),v=M(E,C))},_=()=>(y=!0,u.resume()),A=()=>{g!==null&&(p!==null&&(s.removeEventListener("addtrack",p),s.removeEventListener("removetrack",p)),m!==null&&clearTimeout(m),g.then(async({constantSourceNode:E,encoderId:C,mediaStreamAudioSourceNode:N,recorderAudioWorkletNode:S})=>{v!==null&&(v.catch(()=>{}),v=null),await S.stop(),N.disconnect(S),E.stop();const x=await tt(C,null);g===null&&await w(),b([...h,...x]),h.length=0,o.dispatchEvent(new Event("stop"))}),g=null)},w=()=>(y=!1,u.suspend());return w(),{get mimeType(){return i},get state(){return g===null?"inactive":y?"recording":"paused"},pause(){if(g===null)throw n();y&&(w(),o.dispatchEvent(new Event("pause")))},resume(){if(g===null)throw n();y||(_(),o.dispatchEvent(new Event("resume")))},start(E){var C;if(g!==null)throw n();if(s.getVideoTracks().length>0)throw r();o.dispatchEvent(new Event("start"));const N=s.getAudioTracks(),S=N.length===0?2:(C=N[0].getSettings().channelCount)!==null&&C!==void 0?C:2;g=Promise.all([_(),f.then(()=>Ri(l,u,S,s,i))]).then(async([,{audioBufferSourceNode:I,encoderId:P,mediaStreamAudioSourceNode:L,port:R,recorderAudioWorkletNode:B}])=>{L.connect(B),await new Promise(O=>{I.onended=O,I.connect(B),I.start(u.currentTime+d/u.sampleRate)}),I.disconnect(B);const W=new vi(u,{offset:0});return W.onended=()=>W.disconnect(),W.connect(u.destination),W.start(),await B.record(R),E!==void 0&&(v=M(P,E)),{constantSourceNode:W,encoderId:P,mediaStreamAudioSourceNode:L,recorderAudioWorkletNode:B}});const x=s.getTracks();p=()=>{A(),o.dispatchEvent(new ErrorEvent("error",{error:t()}))},s.addEventListener("addtrack",p),s.addEventListener("removetrack",p),m=setInterval(()=>{const I=s.getTracks();(I.length!==x.length||I.some((P,L)=>P!==x[L]))&&p!==null&&p()},1e3)},stop:A}};class Mt{constructor(t,n=0,r){if(n<0||r!==void 0&&r<0)throw new RangeError;const o=t.reduce((d,l)=>d+l.byteLength,0);if(n>o||r!==void 0&&n+r>o)throw new RangeError;const s=[],i=r===void 0?o-n:r,c=[];let a=0,u=n;for(const d of t)if(c.length===0)if(d.byteLength>u){a=d.byteLength-u;const l=a>i?i:a;s.push(new DataView(d,u,l)),c.push(d)}else u-=d.byteLength;else if(a<i){a+=d.byteLength;const l=a>i?d.byteLength-a+i:d.byteLength;s.push(new DataView(d,0,l)),c.push(d)}this._buffers=c,this._byteLength=i,this._byteOffset=u,this._dataViews=s,this._internalBuffer=new DataView(new ArrayBuffer(8))}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get byteOffset(){return this._byteOffset}getFloat32(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getFloat32(0,n)}getFloat64(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.setUint8(4,this.getUint8(t+4)),this._internalBuffer.setUint8(5,this.getUint8(t+5)),this._internalBuffer.setUint8(6,this.getUint8(t+6)),this._internalBuffer.setUint8(7,this.getUint8(t+7)),this._internalBuffer.getFloat64(0,n)}getInt16(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.getInt16(0,n)}getInt32(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getInt32(0,n)}getInt8(t){const[n,r]=this._findDataViewWithOffset(t);return n.getInt8(t-r)}getUint16(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.getUint16(0,n)}getUint32(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getUint32(0,n)}getUint8(t){const[n,r]=this._findDataViewWithOffset(t);return n.getUint8(t-r)}setFloat32(t,n,r){this._internalBuffer.setFloat32(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}setFloat64(t,n,r){this._internalBuffer.setFloat64(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3)),this.setUint8(t+4,this._internalBuffer.getUint8(4)),this.setUint8(t+5,this._internalBuffer.getUint8(5)),this.setUint8(t+6,this._internalBuffer.getUint8(6)),this.setUint8(t+7,this._internalBuffer.getUint8(7))}setInt16(t,n,r){this._internalBuffer.setInt16(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1))}setInt32(t,n,r){this._internalBuffer.setInt32(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}setInt8(t,n){const[r,o]=this._findDataViewWithOffset(t);r.setInt8(t-o,n)}setUint16(t,n,r){this._internalBuffer.setUint16(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1))}setUint32(t,n,r){this._internalBuffer.setUint32(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}setUint8(t,n){const[r,o]=this._findDataViewWithOffset(t);r.setUint8(t-o,n)}_findDataViewWithOffset(t){let n=0;for(const r of this._dataViews){const o=n+r.byteLength;if(t>=n&&t<o)return[r,n];n=o}throw new RangeError}}const Li=(e,t,n,r,o)=>(s,i,c,a)=>{const u=c.getAudioTracks(),d=[],l=u.length===0?void 0:u[0].getSettings().channelCount,h=new i(c,{mimeType:"audio/webm;codecs=pcm"}),f=u.length===0?void 0:u[0].getSettings().sampleRate;let p=null,m=()=>{};const g=b=>{s.dispatchEvent(e("dataavailable",{data:new Blob(b,{type:a})}))},v=async(b,M)=>{const _=await tt(b,M);h.state==="inactive"?d.push(..._):(g(_),p=v(b,M))},y=()=>{h.state!=="inactive"&&(p!==null&&(p.catch(()=>{}),p=null),m(),m=()=>{},h.stop())};return h.addEventListener("error",()=>{y(),s.dispatchEvent(new ErrorEvent("error",{error:t()}))}),h.addEventListener("start",()=>s.dispatchEvent(new Event("start"))),{get mimeType(){return a},get state(){return h.state},pause(){return h.pause()},resume(){return h.resume()},start(b){if(c.getVideoTracks().length>0)throw n();if(h.state==="inactive"){if(f===void 0)throw new Error("The sampleRate is not defined.");let M=!1,_=!1,A=0,w=Vn(a,f);m=()=>{_=!0};const E=$n(h,"dataavailable")(({data:C})=>{A+=1,w=w.then(async({dataView:N=null,elementType:S=null,encoderId:x,port:I})=>{const P=await C.arrayBuffer();A-=1;const L=N===null?new Mt([P]):new Mt([...N.buffers,P],N.byteOffset);if(!M&&h.state==="recording"&&!_){const U=o(L,0);if(U===null)return{dataView:L,elementType:S,encoderId:x,port:I};const{value:V}=U;if(V!==172351395)return{dataView:N,elementType:S,encoderId:x,port:I};M=!0}const{currentElementType:R,offset:B,contents:W}=r(L,S,l),O=B<L.byteLength?new Mt(L.buffers,L.byteOffset+B):null;return W.forEach(U=>I.postMessage(U,U.map(({buffer:V})=>V))),A===0&&(h.state==="inactive"||_)&&(tt(x,null).then(U=>{g([...d,...U]),d.length=0,s.dispatchEvent(new Event("stop"))}),I.postMessage([]),I.close(),E()),{dataView:O,elementType:R,encoderId:x,port:I}})});b!==void 0&&w.then(({encoderId:C})=>p=v(C,b))}h.start(100)},stop:y}},Ui=()=>typeof window>"u"?null:window,Sr=(e,t)=>{if(t>=e.byteLength)return null;const n=e.getUint8(t);if(n>127)return 1;if(n>63)return 2;if(n>31)return 3;if(n>15)return 4;if(n>7)return 5;if(n>3)return 6;if(n>1)return 7;if(n>0)return 8;const r=Sr(e,t+1);return r===null?null:r+8},Pi=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof t=="function"?t.call(e,n):t.handleEvent.call(e,n)},Ir=[],Kt=Ui(),Bi=lo(Kt),Or=oo(Bi),Di=xi(Or,Dt,co,ut),Qt=go(Sr),Wi=po(Qt),Vi=mo(Qt),$i=so(Wi,Vi),Fi=Li(Or,Dt,ut,$i,Qt),ji=io(Kt),qi=ho(Kt),Gi=fo(Dt,ut),zi=uo(Gi,ut,Di,Fi,Ir,ao(ji,Pi),qi),Hi=async e=>{Ir.push(await ro(e))},Xi=Dn({characterize:({call:e})=>()=>e("characterize"),encode:({call:e})=>(t,n)=>e("encode",{recordingId:t,timeslice:n}),record:({call:e})=>async(t,n,r)=>{await e("record",{recordingId:t,sampleRate:n,typedArrays:r},r.map(({buffer:o})=>o))}}),Yi=e=>{const t=new Worker(e);return Xi(t)},Zi=`(()=>{var e={775:function(e,t,r){!function(e,t,r,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=o(t),a=o(r),i=o(n),u=function(e,t){return void 0===t?e:t.reduce((function(e,t){if("capitalize"===t){var r=e.charAt(0).toUpperCase(),n=e.slice(1);return"".concat(r).concat(n)}return"dashify"===t?a.default(e):"prependIndefiniteArticle"===t?"".concat(i.default(e)," ").concat(e):e}),e)},c=function(e){var t=e.name+e.modifiers.map((function(e){return"\\\\.".concat(e,"\\\\(\\\\)")})).join("");return new RegExp("\\\\$\\\\{".concat(t,"}"),"g")},l=function(e,t){for(var r=/\\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g,n=[],o=r.exec(e);null!==o;){var a={modifiers:[],name:o[1]};if(void 0!==o[3])for(var i=/\\.[^(]+\\(\\)/g,l=i.exec(o[2]);null!==l;)a.modifiers.push(l[0].slice(1,-2)),l=i.exec(o[2]);n.push(a),o=r.exec(e)}var d=n.reduce((function(e,r){return e.map((function(e){return"string"==typeof e?e.split(c(r)).reduce((function(e,n,o){return 0===o?[n]:r.name in t?[].concat(s.default(e),[u(t[r.name],r.modifiers),n]):[].concat(s.default(e),[function(e){return u(e[r.name],r.modifiers)},n])}),[]):[e]})).reduce((function(e,t){return[].concat(s.default(e),s.default(t))}),[])}),[e]);return function(e){return d.reduce((function(t,r){return[].concat(s.default(t),"string"==typeof r?[r]:[r(e)])}),[]).join("")}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0===e.code?void 0:l(e.code,t),n=void 0===e.message?void 0:l(e.message,t);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,s=void 0===o&&(t instanceof Error||void 0!==t.code&&"Exception"===t.code.slice(-9))?{cause:t,missingParameters:{}}:{cause:o,missingParameters:t},a=s.cause,i=s.missingParameters,u=void 0===n?new Error:new Error(n(i));return null!==a&&(u.cause=a),void 0!==r&&(u.code=r(i)),void 0!==e.status&&(u.status=e.status),u}return o};e.compile=d,Object.defineProperty(e,"__esModule",{value:!0})}(t,r(106),r(881),r(507))},881:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e)throw new TypeError("expected a string");return e.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\\W/g,(e=>/[\xC0-\u017E]/.test(e)?e:"-")).replace(/^-+|-+$/g,"").replace(/-{2,}/g,(e=>t&&t.condense?"-":e)).toLowerCase()}},107:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<s?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*s);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,u=r(i),c=a(u,i),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c,Object.defineProperty(e,"__esModule",{value:!0})}(t)},507:e=>{var t=function(e){var t,r,n=/\\w+/.exec(e);if(!n)return"an";var o=(r=n[0]).toLowerCase(),s=["honest","hour","hono"];for(t in s)if(0==o.indexOf(s[t]))return"an";if(1==o.length)return"aedhilmnorsx".indexOf(o)>=0?"an":"a";if(r.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var a=[/^e[uw]/,/^onc?e\\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(t=0;t<a.length;t++)if(o.match(a[t]))return"a";return r.match(/^U[NK][AIEO]/)?"a":r==r.toUpperCase()?"aedhilmnorsx".indexOf(o[0])>=0?"an":"a":"aeiou".indexOf(o[0])>=0||o.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};void 0!==e.exports?e.exports=t:window.indefiniteArticle=t},768:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},907:(e,t,r)=>{var n=r(768);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},642:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},344:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},106:(e,t,r)=>{var n=r(907),o=r(642),s=r(906),a=r(344);e.exports=function(e){return n(e)||o(e)||s(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},906:(e,t,r)=>{var n=r(768);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";var e=r(775);const t=-32603,n=-32602,o=-32601,s=(0,e.compile)({message:'The requested method called "\${method}" is not supported.',status:o}),a=(0,e.compile)({message:'The handler of the method called "\${method}" returned no required result.',status:t}),i=(0,e.compile)({message:'The handler of the method called "\${method}" returned an unexpected result.',status:t}),u=(0,e.compile)({message:'The specified parameter called "portId" with the given value "\${portId}" does not identify a port connected to this worker.',status:n}),c=(e,t)=>async r=>{let{data:{id:n,method:o,params:u}}=r;const c=t[o];try{if(void 0===c)throw s({method:o});const t=void 0===u?c():c(u);if(void 0===t)throw a({method:o});const r=t instanceof Promise?await t:t;if(null===n){if(void 0!==r.result)throw i({method:o})}else{if(void 0===r.result)throw i({method:o});const{result:t,transferables:s=[]}=r;e.postMessage({id:n,result:t},s)}}catch(t){const{message:r,status:o=-32603}=t;e.postMessage({error:{code:o,message:r},id:n})}};var l=r(107);const d=new Map,f=(e,t,r)=>({...t,connect:r=>{let{port:n}=r;n.start();const o=e(n,t),s=(0,l.generateUniqueNumber)(d);return d.set(s,(()=>{o(),n.close(),d.delete(s)})),{result:s}},disconnect:e=>{let{portId:t}=e;const r=d.get(t);if(void 0===r)throw u({portId:t.toString()});return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=r();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),p=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;const n=f(p,t,r),o=c(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},m=e=>e.reduce(((e,t)=>e+t.length),0),h=(e,t)=>{const r=[];let n=0;e:for(;n<t;){const t=e.length;for(let o=0;o<t;o+=1){const t=e[o];void 0===r[o]&&(r[o]=[]);const s=t.shift();if(void 0===s)break e;r[o].push(s),0===o&&(n+=s.length)}}if(n>t){const o=n-t;r.forEach(((t,r)=>{const n=t.pop(),s=n.length-o;t.push(n.subarray(0,s)),e[r].unshift(n.subarray(s))}))}return r},v=new Map,g=(e=>(t,r,n)=>{const o=e.get(t);if(void 0===o){const o={channelDataArrays:n.map((e=>[e])),isComplete:!0,sampleRate:r};return e.set(t,o),o}return o.channelDataArrays.forEach(((e,t)=>e.push(n[t]))),o})(v),x=((e,t)=>(r,n,o,s)=>{const a=o>>3,i="subsequent"===n?0:44,u=r.length,c=e(r[0]),l=new ArrayBuffer(c*u*a+i),d=new DataView(l);return"subsequent"!==n&&t(d,o,u,"complete"===n?c:Number.POSITIVE_INFINITY,s),r.forEach(((e,t)=>{let r=i+t*a;e.forEach((e=>{const t=e.length;for(let n=0;n<t;n+=1){const t=e[n];d.setInt16(r,t<0?32768*Math.max(-1,t):32767*Math.min(1,t),!0),r+=u*a}}))})),[l]})(m,((e,t,r,n,o)=>{const s=t>>3,a=Math.min(n*r*s,4294967251);e.setUint32(0,1380533830),e.setUint32(4,a+36,!0),e.setUint32(8,1463899717),e.setUint32(12,1718449184),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,r,!0),e.setUint32(24,o,!0),e.setUint32(28,o*r*s,!0),e.setUint16(32,r*s,!0),e.setUint16(34,t,!0),e.setUint32(36,1684108385),e.setUint32(40,a,!0)})),w=new Map;p(self,{characterize:()=>({result:/^audio\\/wav$/}),encode:e=>{let{recordingId:t,timeslice:r}=e;const n=w.get(t);void 0!==n&&(w.delete(t),n.reject(new Error("Another request was made to initiate an encoding.")));const o=v.get(t);if(null!==r){if(void 0===o||m(o.channelDataArrays[0])*(1e3/o.sampleRate)<r)return new Promise(((e,n)=>{w.set(t,{reject:n,resolve:e,timeslice:r})}));const e=h(o.channelDataArrays,Math.ceil(r*(o.sampleRate/1e3))),n=x(e,o.isComplete?"initial":"subsequent",16,o.sampleRate);return o.isComplete=!1,{result:n,transferables:n}}if(void 0!==o){const e=x(o.channelDataArrays,o.isComplete?"complete":"subsequent",16,o.sampleRate);return v.delete(t),{result:e,transferables:e}}return{result:[],transferables:[]}},record:e=>{let{recordingId:t,sampleRate:r,typedArrays:n}=e;const o=g(t,r,n),s=w.get(t);if(void 0!==s&&m(o.channelDataArrays[0])*(1e3/r)>=s.timeslice){const e=h(o.channelDataArrays,Math.ceil(s.timeslice*(r/1e3))),n=x(e,o.isComplete?"initial":"subsequent",16,r);o.isComplete=!1,w.delete(t),s.resolve({result:n,transferables:n})}return{result:null}}})})()})();`,Ki=new Blob([Zi],{type:"application/javascript; charset=utf-8"}),kr=URL.createObjectURL(Ki),Qi=Yi(kr),Ji=Qi.connect;URL.revokeObjectURL(kr);async function ec(){await Hi(await Ji())}ec();class tc extends zi{constructor(t){super(t,{mimeType:"audio/wav"}),this.duration=new rc,this.onStateChanged&&this.onStateChanged("inactive")}set onDurationChanged(t){this.duration.onDurationChanged=t}destroy(){this.duration.stop(),this.onStateChanged&&this.onStateChanged("inactive")}start(t){super.start(t),this.duration.start(),this.onStateChanged&&this.onStateChanged("recording")}pause(){super.pause(),this.duration.pause(),this.onStateChanged&&this.onStateChanged("paused")}resume(){super.resume(),this.duration.start(),this.onStateChanged&&this.onStateChanged("recording")}stop(){super.stop(),this.destroy(),this.onStateChanged&&this.onStateChanged("inactive")}}function nc(e,t="auto"){e=Math.round(e);const n={hours:[11,19],minutes:[14,19]};let r=[0,0];switch(t){case"auto":r=e<3600?n.minutes:n.hours;break;case"hours":r=n.hours;break;case"minutes":r=n.minutes;break}let o="00:00";try{o=new Date(e*1e3).toISOString().substring(r[0],r[1])}catch{}return o}class rc{constructor(){this._seconds=0,this.isIdle=!0}set seconds(t){this._seconds=t,this.onDurationChanged&&this.onDurationChanged(this.seconds)}get seconds(){return this._seconds}start(){this.applyInterval(),this.isIdle=!1}pause(){this.isIdle=!0}stop(){this.pause(),this.seconds=0,this.interval&&clearInterval(this.interval)}applyInterval(){this.interval&&clearInterval(this.interval),this.interval=setInterval(()=>{this.isIdle||this.seconds++},1e3)}}function In(e){let t,n;return t=new qr({props:{onClose:e[10],$$slots:{default:[oc]},$$scope:{ctx:e}}}),{c(){Pe(t.$$.fragment)},l(r){Be(t.$$.fragment,r)},m(r,o){De(t,r,o),n=!0},p(r,o){const s={};o&16&&(s.onClose=r[10]),o&65536&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ne(t.$$.fragment,r),n=!1},d(r){We(t,r)}}}function oc(e){let t,n,r,o,s,i,c,a,u,d,l,h;return{c(){t=Y("div"),n=oe("\u0417\u0430\u043F\u0438\u0441\u044C \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0430 \u0441 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C\u044E \u043F\u0440\u043E\u0441\u043B\u0443\u0448\u0438\u0432\u0430\u043D\u0438\u044F \u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u0430\u0443\u0434\u0438\u043E."),r=ie(),o=Y("div"),s=Y("b"),i=oe("\u0421\u0442\u043E\u0440\u043E\u043D\u043D\u0438\u0435 \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u0438:"),c=ie(),a=Y("a"),u=oe("extendable-media-recorder"),d=ie(),l=Y("a"),h=oe("extendable-media-recorder-wav-encoder"),this.h()},l(f){t=Z(f,"DIV",{});var p=ee(t);n=se(p,"\u0417\u0430\u043F\u0438\u0441\u044C \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0430 \u0441 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C\u044E \u043F\u0440\u043E\u0441\u043B\u0443\u0448\u0438\u0432\u0430\u043D\u0438\u044F \u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u0430\u0443\u0434\u0438\u043E."),p.forEach(D),r=ce(f),o=Z(f,"DIV",{});var m=ee(o);s=Z(m,"B",{});var g=ee(s);i=se(g,"\u0421\u0442\u043E\u0440\u043E\u043D\u043D\u0438\u0435 \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u0438:"),g.forEach(D),m.forEach(D),c=ce(f),a=Z(f,"A",{href:!0,style:!0});var v=ee(a);u=se(v,"extendable-media-recorder"),v.forEach(D),d=ce(f),l=Z(f,"A",{href:!0,style:!0});var y=ee(l);h=se(y,"extendable-media-recorder-wav-encoder"),y.forEach(D),this.h()},h(){Q(a,"href","https://github.com/chrisguttandin/extendable-media-recorder"),nn(a,"text-decoration","underline"),Q(l,"href","https://github.com/chrisguttandin/extendable-media-recorder-wav-encoder"),nn(l,"text-decoration","underline")},m(f,p){X(f,t,p),G(t,n),X(f,r,p),X(f,o,p),G(o,s),G(s,i),X(f,c,p),X(f,a,p),G(a,u),X(f,d,p),X(f,l,p),G(l,h)},p:Ln,d(f){f&&D(t),f&&D(r),f&&D(o),f&&D(c),f&&D(a),f&&D(d),f&&D(l)}}}function On(e){let t,n=e[0].message+"",r;return{c(){t=Y("div"),r=oe(n),this.h()},l(o){t=Z(o,"DIV",{class:!0});var s=ee(t);r=se(s,n),s.forEach(D),this.h()},h(){Q(t,"class","attention svelte-h3qv3a")},m(o,s){X(o,t,s),G(t,r)},p(o,s){s&1&&n!==(n=o[0].message+"")&&Un(r,n)},d(o){o&&D(t)}}}function kn(e){let t,n,r,o,s,i,c,a,u,d,l,h,f,p,m,g,v,y,b;const M=[ic,ac,sc],_=[];function A(C,N){return C[2]==="inactive"?0:C[2]==="recording"?1:C[2]==="paused"?2:-1}~(f=A(e))&&(p=_[f]=M[f](e));let w=e[2]!=="inactive"&&Rn(e),E=e[3].length>0&&xn(e);return{c(){t=Y("div"),n=Y("div"),r=oe("\u041C\u0430\u0439\u043A\u043B v1.0"),o=ie(),s=Y("div"),i=oe("\u041E\u0431 \u0443\u0442\u0438\u043B\u0438\u0442\u0435"),c=ie(),a=Y("div"),u=Y("div"),d=oe(e[1]),l=ie(),h=Y("div"),p&&p.c(),m=ie(),w&&w.c(),g=ie(),E&&E.c(),this.h()},l(C){t=Z(C,"DIV",{class:!0});var N=ee(t);n=Z(N,"DIV",{class:!0});var S=ee(n);r=se(S,"\u041C\u0430\u0439\u043A\u043B v1.0"),S.forEach(D),o=ce(N),s=Z(N,"DIV",{class:!0});var x=ee(s);i=se(x,"\u041E\u0431 \u0443\u0442\u0438\u043B\u0438\u0442\u0435"),x.forEach(D),c=ce(N),a=Z(N,"DIV",{class:!0});var I=ee(a);u=Z(I,"DIV",{class:!0});var P=ee(u);d=se(P,e[1]),P.forEach(D),l=ce(I),h=Z(I,"DIV",{class:!0});var L=ee(h);p&&p.l(L),m=ce(L),w&&w.l(L),L.forEach(D),I.forEach(D),g=ce(N),E&&E.l(N),N.forEach(D),this.h()},h(){Q(n,"class","util-title"),Q(s,"class","underline"),Q(u,"class","time svelte-h3qv3a"),Q(h,"class","controls svelte-h3qv3a"),Q(a,"class","recorder svelte-h3qv3a"),Q(t,"class","michael svelte-h3qv3a")},m(C,N){X(C,t,N),G(t,n),G(n,r),G(t,o),G(t,s),G(s,i),G(t,c),G(t,a),G(a,u),G(u,d),G(a,l),G(a,h),~f&&_[f].m(h,null),G(h,m),w&&w.m(h,null),G(t,g),E&&E.m(t,null),v=!0,y||(b=Fr(s,"click",e[11]),y=!0)},p(C,N){(!v||N&2)&&Un(d,C[1]);let S=f;f=A(C),f===S?~f&&_[f].p(C,N):(p&&(et(),ne(_[S],1,1,()=>{_[S]=null}),Je()),~f?(p=_[f],p?p.p(C,N):(p=_[f]=M[f](C),p.c()),K(p,1),p.m(h,m)):p=null),C[2]!=="inactive"?w?(w.p(C,N),N&4&&K(w,1)):(w=Rn(C),w.c(),K(w,1),w.m(h,null)):w&&(et(),ne(w,1,1,()=>{w=null}),Je()),C[3].length>0?E?E.p(C,N):(E=xn(C),E.c(),E.m(t,null)):E&&(E.d(1),E=null)},i(C){v||(K(p),K(w),v=!0)},o(C){ne(p),ne(w),v=!1},d(C){C&&D(t),~f&&_[f].d(),w&&w.d(),E&&E.d(),y=!1,b()}}}function sc(e){let t,n;return t=new ct({props:{$$slots:{default:[cc]},$$scope:{ctx:e}}}),t.$on("click",e[8]),{c(){Pe(t.$$.fragment)},l(r){Be(t.$$.fragment,r)},m(r,o){De(t,r,o),n=!0},p(r,o){const s={};o&65536&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ne(t.$$.fragment,r),n=!1},d(r){We(t,r)}}}function ac(e){let t,n;return t=new ct({props:{$$slots:{default:[uc]},$$scope:{ctx:e}}}),t.$on("click",e[7]),{c(){Pe(t.$$.fragment)},l(r){Be(t.$$.fragment,r)},m(r,o){De(t,r,o),n=!0},p(r,o){const s={};o&65536&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ne(t.$$.fragment,r),n=!1},d(r){We(t,r)}}}function ic(e){let t,n;return t=new ct({props:{$$slots:{default:[lc]},$$scope:{ctx:e}}}),t.$on("click",e[6]),{c(){Pe(t.$$.fragment)},l(r){Be(t.$$.fragment,r)},m(r,o){De(t,r,o),n=!0},p(r,o){const s={};o&65536&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ne(t.$$.fragment,r),n=!1},d(r){We(t,r)}}}function cc(e){let t;return{c(){t=oe("\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C")},l(n){t=se(n,"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C")},m(n,r){X(n,t,r)},d(n){n&&D(t)}}}function uc(e){let t;return{c(){t=oe("\u041F\u0430\u0443\u0437\u0430")},l(n){t=se(n,"\u041F\u0430\u0443\u0437\u0430")},m(n,r){X(n,t,r)},d(n){n&&D(t)}}}function lc(e){let t;return{c(){t=oe("\u0417\u0430\u043F\u0438\u0441\u044C")},l(n){t=se(n,"\u0417\u0430\u043F\u0438\u0441\u044C")},m(n,r){X(n,t,r)},d(n){n&&D(t)}}}function Rn(e){let t,n;return t=new ct({props:{$$slots:{default:[dc]},$$scope:{ctx:e}}}),t.$on("click",e[9]),{c(){Pe(t.$$.fragment)},l(r){Be(t.$$.fragment,r)},m(r,o){De(t,r,o),n=!0},p(r,o){const s={};o&65536&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){n||(K(t.$$.fragment,r),n=!0)},o(r){ne(t.$$.fragment,r),n=!1},d(r){We(t,r)}}}function dc(e){let t;return{c(){t=oe("\u0421\u0442\u043E\u043F")},l(n){t=se(n,"\u0421\u0442\u043E\u043F")},m(n,r){X(n,t,r)},d(n){n&&D(t)}}}function xn(e){let t,n,r;return{c(){t=Y("div"),n=Y("audio"),this.h()},l(o){t=Z(o,"DIV",{class:!0});var s=ee(t);n=Z(s,"AUDIO",{src:!0}),ee(n).forEach(D),s.forEach(D),this.h()},h(){n.controls=!0,jr(n.src,r=e[5]())||Q(n,"src",r),Q(t,"class","player svelte-h3qv3a")},m(o,s){X(o,t,s),G(t,n)},p:Ln,d(o){o&&D(t)}}}function fc(e){let t,n,r,o,s,i,c,a=e[4]&&In(e),u=e[0].active&&On(e),d=!e[0].active&&kn(e);return{c(){t=Y("meta"),n=Y("meta"),r=ie(),a&&a.c(),o=ie(),u&&u.c(),s=ie(),d&&d.c(),i=tn(),this.h()},l(l){const h=Wr('[data-svelte="svelte-vsmof7"]',document.head);t=Z(h,"META",{property:!0,content:!0}),n=Z(h,"META",{name:!0,content:!0}),h.forEach(D),r=ce(l),a&&a.l(l),o=ce(l),u&&u.l(l),s=ce(l),d&&d.l(l),i=tn(),this.h()},h(){document.title="\u041C\u0430\u0439\u043A\u043B",Q(t,"property","og:title"),Q(t,"content","\u041C\u0430\u0439\u043A\u043B"),Q(n,"name","description"),Q(n,"content","\u0417\u0430\u043F\u0438\u0441\u0430\u0442\u044C \u0437\u0432\u0443\u043A \u0441 \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0430, \u043F\u0440\u043E\u0441\u043B\u0443\u0448\u0430\u0442\u044C, \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C.")},m(l,h){G(document.head,t),G(document.head,n),X(l,r,h),a&&a.m(l,h),X(l,o,h),u&&u.m(l,h),X(l,s,h),d&&d.m(l,h),X(l,i,h),c=!0},p(l,[h]){l[4]?a?(a.p(l,h),h&16&&K(a,1)):(a=In(l),a.c(),K(a,1),a.m(o.parentNode,o)):a&&(et(),ne(a,1,1,()=>{a=null}),Je()),l[0].active?u?u.p(l,h):(u=On(l),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null),l[0].active?d&&(et(),ne(d,1,1,()=>{d=null}),Je()):d?(d.p(l,h),h&1&&K(d,1)):(d=kn(l),d.c(),K(d,1),d.m(i.parentNode,i))},i(l){c||(K(a),K(d),c=!0)},o(l){ne(a),ne(d),c=!1},d(l){D(t),D(n),l&&D(r),a&&a.d(l),l&&D(o),u&&u.d(l),l&&D(s),d&&d.d(l),l&&D(i)}}}function hc(e,t,n){const r={active:!0,message:"\u0416\u0434\u0435\u043C \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0435 \u043D\u0430 \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0443."};let o,s,i="00:00",c="inactive";Vr(async()=>{await a()}),$r(()=>{!s||s.destroy()});async function a(){let b;try{o=await navigator.mediaDevices.getUserMedia({audio:!0})}catch(M){b=M}if(!b){o?(n(0,r.active=!1,r),l()):n(0,r.message="\u041C\u0438\u043A\u0440\u043E\u0444\u043E\u043D \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D. \u041C\u043E\u0436\u0435\u0442 \u0432\u044B \u043F\u0440\u043E\u0438\u0433\u043D\u043E\u0440\u0438\u0440\u043E\u0432\u0430\u043B\u0438 \u0434\u0438\u0430\u043B\u043E\u0433 \u043D\u0430 \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0443?",r);return}switch(n(0,r.active=!0,r),"name"in b||n(0,r.message=b,r),b.name){default:n(0,r.message=`${b}`,r);break;case"NotAllowedError":n(0,r.message="\u0414\u043E\u0441\u0442\u0443\u043F \u043A \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0443 \u0437\u0430\u043F\u0440\u0435\u0449\u0435\u043D.",r);break;case"NotFoundError":n(0,r.message="\u0423\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u0438\u0441\u0438 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E.",r);break}}let u=[];function d(){const b=new Blob(u,{type:s.mimeType});return window.URL.createObjectURL(b)}function l(){s=new tc(o),s.onDurationChanged=b=>{n(1,i=nc(b))},s.onStateChanged=b=>{n(2,c=b)},s.ondataavailable=b=>{u.push(b.data),n(3,u)}}function h(){n(3,u=[]),s.start()}function f(){s.pause()}function p(){s.resume()}function m(){s.stop()}let g=!1;return[r,i,c,u,g,d,h,f,p,m,()=>n(4,g=!1),()=>n(4,g=!0)]}class Oc extends Pr{constructor(t){super(),Br(this,t,hc,fc,Dr,{})}}export{Oc as default};
